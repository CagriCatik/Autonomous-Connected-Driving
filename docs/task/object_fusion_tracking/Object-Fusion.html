<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-task/object_fusion_tracking/Object-Fusion" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Object Fusion | Automated and Connected Driving</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://cagricatik.github.io/Autonomous-Connected-Driving/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://cagricatik.github.io/Autonomous-Connected-Driving/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://cagricatik.github.io/Autonomous-Connected-Driving/docs/task/object_fusion_tracking/Object-Fusion"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Object Fusion | Automated and Connected Driving"><meta data-rh="true" name="description" content="ROS1"><meta data-rh="true" property="og:description" content="ROS1"><link data-rh="true" rel="icon" href="/Autonomous-Connected-Driving/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://cagricatik.github.io/Autonomous-Connected-Driving/docs/task/object_fusion_tracking/Object-Fusion"><link data-rh="true" rel="alternate" href="https://cagricatik.github.io/Autonomous-Connected-Driving/docs/task/object_fusion_tracking/Object-Fusion" hreflang="en"><link data-rh="true" rel="alternate" href="https://cagricatik.github.io/Autonomous-Connected-Driving/docs/task/object_fusion_tracking/Object-Fusion" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/Autonomous-Connected-Driving/blog/rss.xml" title="Automated and Connected Driving RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Autonomous-Connected-Driving/blog/atom.xml" title="Automated and Connected Driving Atom Feed"><link rel="stylesheet" href="/Autonomous-Connected-Driving/assets/css/styles.ce2d5abf.css">
<script src="/Autonomous-Connected-Driving/assets/js/runtime~main.b1a762c2.js" defer="defer"></script>
<script src="/Autonomous-Connected-Driving/assets/js/main.62095f23.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Autonomous-Connected-Driving/"><div class="navbar__logo"><img src="/Autonomous-Connected-Driving/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Autonomous-Connected-Driving/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/theory/introduction-tools/getting_started">Introduction &amp; Tools</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/theory/sensor-data-processing/getting_started">Sensor Data Processing</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/theory/object-fusion-tracking/getting_started">Object Fusion and Tracking</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/theory/vehicle-guidance/getting_started">Vehicle Guidance</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/theory/connected-driving/getting_started">Connected Driving</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Autonomous-Connected-Driving/docs/task/getting_started">Tasks</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/cpp/getting_started">C++</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/python/getting_started">Python</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/ros/getting_started">ROS</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/ros2/getting_started">ROS2</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Autonomous-Connected-Driving/docs/task/getting_started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Autonomous-Connected-Driving/docs/category/introduction--tools">Introduction &amp; Tools</a><button aria-label="Expand sidebar category &#x27;Introduction &amp; Tools&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Autonomous-Connected-Driving/docs/category/sensor-data-processing">Sensor Data Processing</a><button aria-label="Expand sidebar category &#x27;Sensor Data Processing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/Autonomous-Connected-Driving/docs/category/object-fusion-tracking">Object Fusion Tracking</a><button aria-label="Collapse sidebar category &#x27;Object Fusion Tracking&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Autonomous-Connected-Driving/docs/task/object_fusion_tracking/Object-Prediction">Object Prediction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Autonomous-Connected-Driving/docs/task/object_fusion_tracking/Object-Association">Object Association</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Autonomous-Connected-Driving/docs/task/object_fusion_tracking/Object-Fusion">Object Fusion</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Autonomous-Connected-Driving/docs/category/vehicle-guidance">Vehicle Guidance</a><button aria-label="Expand sidebar category &#x27;Vehicle Guidance&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Autonomous-Connected-Driving/docs/category/connected-driving">Connected Driving</a><button aria-label="Expand sidebar category &#x27;Connected Driving&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Autonomous-Connected-Driving/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/Autonomous-Connected-Driving/docs/category/object-fusion-tracking"><span itemprop="name">Object Fusion Tracking</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Object Fusion</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Object Fusion</h1></header>
<p><img decoding="async" loading="lazy" src="https://img.shields.io/badge/ROS1-blue" alt="ROS1" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>In autonomous vehicle systems, <strong>object fusion</strong> is a critical component that integrates information from multiple sensors to produce a coherent and accurate representation of the surrounding environment. By fusing data from various sources, such as LiDAR, radar, and cameras, vehicles can achieve reliable object detection, tracking, and classification, essential for safe and efficient navigation.</p>
<p>This workshop focuses on implementing the <strong>Object Fusion</strong> step within a <strong>Kalman Filter</strong> framework using ROS. Participants will gain hands-on experience in completing the Kalman Filter&#x27;s measurement update phase, which integrates sensor measurements to refine object states. Additionally, the workshop covers parameter tuning to optimize fusion performance, ensuring accurate and robust object tracking.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="learning-objectives">Learning Objectives<a href="#learning-objectives" class="hash-link" aria-label="Direct link to Learning Objectives" title="Direct link to Learning Objectives">​</a></h2>
<p>By the end of this workshop, participants will be able to:</p>
<ul>
<li><strong>Understand Object Fusion Fundamentals:</strong> Grasp the principles of integrating sensor data using Kalman Filters.</li>
<li><strong>Implement Measurement Updates in Kalman Filters:</strong> Complete the Kalman Filter&#x27;s measurement update equations in C++.</li>
<li><strong>Utilize ROS for Object Fusion:</strong> Leverage ROS packages and tools to manage and visualize fused objects.</li>
<li><strong>Tune Fusion Parameters:</strong> Adjust and understand the impact of fusion parameters on tracking performance.</li>
<li><strong>Visualize Fused Objects in RViz:</strong> Use RViz to inspect and analyze the results of object fusion.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<ul>
<li><strong>Basic Knowledge of ROS:</strong> Familiarity with ROS concepts, including nodes, topics, and messages.</li>
<li><strong>C++ Programming Skills:</strong> Ability to read and modify C++ code.</li>
<li><strong>Understanding of Kalman Filters:</strong> Basic comprehension of Kalman Filter principles and state estimation.</li>
<li><strong>Experience with RViz:</strong> Prior experience using RViz for visualization is beneficial but not mandatory.</li>
<li><strong>Docker Environment Setup:</strong> Knowledge of using Docker containers to manage ROS environments.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-instructions">Setup Instructions<a href="#setup-instructions" class="hash-link" aria-label="Direct link to Setup Instructions" title="Direct link to Setup Instructions">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-clone-the-repository-and-navigate-to-the-workspace">1. Clone the Repository and Navigate to the Workspace<a href="#1-clone-the-repository-and-navigate-to-the-workspace" class="hash-link" aria-label="Direct link to 1. Clone the Repository and Navigate to the Workspace" title="Direct link to 1. Clone the Repository and Navigate to the Workspace">​</a></h3>
<p>Ensure you have access to the necessary ROS workspace. Navigate to your workspace directory:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/catkin_workspace/src</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-clone-the-necessary-packages">2. Clone the Necessary Packages<a href="#2-clone-the-necessary-packages" class="hash-link" aria-label="Direct link to 2. Clone the Necessary Packages" title="Direct link to 2. Clone the Necessary Packages">​</a></h3>
<p>Clone the <code>object_fusion</code> package along with its dependencies:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/ika-rwth-aachen/acdc.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd acdc/catkin_workspace/src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/ika-rwth-aachen/acdc.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em>Note:</em> Replace the repository URL with the correct one if different.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-download-the-required-bag-file">3. Download the Required Bag File<a href="#3-download-the-required-bag-file" class="hash-link" aria-label="Direct link to 3. Download the Required Bag File" title="Direct link to 3. Download the Required Bag File">​</a></h3>
<p>Download the LiDAR data recording from Campus Melaten in Aachen:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">wget -O lidar_campus_melaten.bag https://rwth-aachen.sciebo.de/s/udlMYloXpCdVtyp/download</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Alternatively, access the bag file directly <a href="https://rwth-aachen.sciebo.de/s/udlMYloXpCdVtyp" target="_blank" rel="noopener noreferrer"><strong>here</strong></a> (approx. 1.5 GB). Save the file to the local directory <code>${REPOSITORY}/bag</code> on your host machine, which is mounted to <code>~/bag</code> within the Docker container.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-build-the-workspace">4. Build the Workspace<a href="#4-build-the-workspace" class="hash-link" aria-label="Direct link to 4. Build the Workspace" title="Direct link to 4. Build the Workspace">​</a></h3>
<p>Navigate to your workspace and build the packages:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/catkin_workspace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">catkin build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source devel/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em>Note:</em> If you encounter a compilation error similar to <code>g++: internal compiler error: Killed (program cc1plus)</code>, it indicates excessive resource consumption. To resolve this, disable parallel building:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">catkin build -j 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source devel/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-launch-the-ros-environment-with-rviz-and-rosbag">5. Launch the ROS Environment with RViz and Rosbag<a href="#5-launch-the-ros-environment-with-rviz-and-rosbag" class="hash-link" aria-label="Direct link to 5. Launch the ROS Environment with RViz and Rosbag" title="Direct link to 5. Launch the ROS Environment with RViz and Rosbag">​</a></h3>
<p>To streamline the process of launching <code>roscore</code>, <code>rviz</code>, and <code>rosbag play</code> simultaneously, utilize the provided launch file:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">roslaunch object_fusion GeometricISM.launch</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This command performs the following actions:</p>
<ul>
<li><strong>Rosbag Playback:</strong> Plays the <code>lidar_campus_melaten.bag</code> file.</li>
<li><strong>RViz Visualization:</strong> Launches RViz with pre-configured displays for point clouds and occupancy grids.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="expected-terminal-output">Expected Terminal Output:<a href="#expected-terminal-output" class="hash-link" aria-label="Direct link to Expected Terminal Output:" title="Direct link to Expected Terminal Output:">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rosuser@******:~/ws/catkin_workspace$ roslaunch object_fusion GeometricISM.launch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">... logging to /home/rosuser/.ros/log/52caca3c-4495-11ec-82b7-b49691b9ac50/roslaunch-I2102656-linux-14791.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Checking log directory for disk usage. This may take a while.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Press Ctrl-C to interrupt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Done checking log file disk usage. Usage is &lt;1GB.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">started roslaunch server http://******:34069/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros_comm version 1.15.11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">started core service [/rosout]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rosbag play --loop ../bag/lidar_campus_melaten.bag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ INFO] [1636816879.584949638]: Opening ../bag/lidar_campus_melaten.bag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Waiting 0.2 seconds after advertising topics... done.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Hit space to toggle paused, or &#x27;s&#x27; to step.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [RUNNING]  Bag Time: 1580916332.230592   Duration: 0.820823 / 119.955245</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="expected-rviz-visualization">Expected RViz Visualization:<a href="#expected-rviz-visualization" class="hash-link" aria-label="Direct link to Expected RViz Visualization:" title="Direct link to Expected RViz Visualization:">​</a></h4>
<p><img decoding="async" loading="lazy" alt="Image Segmentation" src="/Autonomous-Connected-Driving/assets/images/rviz_points2-bc11882a83116e782b82bc543d166d66.png" width="1200" height="846" class="img_ev3q"></p>
<ul>
<li><strong>PointCloud2 Display:</strong> Visualizes the raw LiDAR point cloud data.</li>
<li><strong>Obstacle Point Cloud:</strong> Colored in purple.</li>
<li><strong>Ground Points:</strong> Visualized separately, toggleable via the RViz interface.</li>
</ul>
<p><em>Note:</em> Adjust visualization settings such as <code>Size</code>, <code>Style</code>, <code>Decay Time</code>, and <code>Color Transformer</code> in the <code>PointCloud2</code> tab for enhanced clarity.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rviz-navigation-controls">RViz Navigation Controls:<a href="#rviz-navigation-controls" class="hash-link" aria-label="Direct link to RViz Navigation Controls:" title="Direct link to RViz Navigation Controls:">​</a></h4>
<ul>
<li><strong>Left Mouse Button:</strong> Rotate the view around the Z-axis.</li>
<li><strong>Middle Mouse Button:</strong> Pan the camera along the XY plane.</li>
<li><strong>Right Mouse Button:</strong> Zoom in and out.</li>
<li><strong>Scroll Wheel:</strong> Incremental zoom in and out.</li>
</ul>
<p><strong>Congratulations!</strong> You have successfully visualized the raw LiDAR data and are ready to implement the occupancy grid mapping algorithms in the subsequent tasks.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tasks">Tasks<a href="#tasks" class="hash-link" aria-label="Direct link to Tasks" title="Direct link to Tasks">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="task-1-set-up-and-test-the-ros-workspace">Task 1: Set Up and Test the ROS Workspace<a href="#task-1-set-up-and-test-the-ros-workspace" class="hash-link" aria-label="Direct link to Task 1: Set Up and Test the ROS Workspace" title="Direct link to Task 1: Set Up and Test the ROS Workspace">​</a></h3>
<p><strong>Objective:</strong> Initialize the ROS workspace, build the necessary packages, and launch the geometric inverse sensor model to visualize LiDAR point clouds and occupancy grids.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="steps">Steps:<a href="#steps" class="hash-link" aria-label="Direct link to Steps:" title="Direct link to Steps:">​</a></h4>
<ol>
<li>
<p><strong>Start the Docker Container:</strong></p>
<p>If not already running, start the Docker container by executing the <code>docker/run.sh</code> script:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./docker/run.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Open a Shell in the Container:</strong></p>
<p>Execute the <code>docker/run.sh</code> script again from another terminal to open a new shell within the container.</p>
</li>
<li>
<p><strong>Build the ROS Package and Source the Workspace:</strong></p>
<p>Inside the Docker container, navigate to the ROS workspace and build the <code>object_fusion</code> package:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">catkin build object_fusion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source devel/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Start <code>roscore</code> and Play the Rosbag:</strong></p>
<p>Launch <code>roscore</code> in the background and start playing the recorded LiDAR data:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">roscore&amp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rosbag play --loop ../bag/lidar_campus_melaten.bag</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Expected Terminal Output:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rosuser@:/home/rosuser/bag# rosbag info lidar_campus_melaten.bag </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">path:        lidar_campus_melaten.bag </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version:     2.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">duration:    1:59s (119s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">start:       Feb 05 2020 15:25:31.41 (1580916331.41)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end:         Feb 05 2020 15:27:31.37 (1580916451.37)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">size:        1.5 GB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">messages:    1200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">compression: none [1199/1199 chunks]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">types:       sensor_msgs/PointCloud2 [1158d486dd51d683ce2f1be655c3c181]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             tf2_msgs/TFMessage      [94810edda583a504dfda3829e70d7eec]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">topics:      /points2     1199 msgs    : sensor_msgs/PointCloud2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             /tf_static      1 msg     : tf2_msgs/TFMessage</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Launch the Geometric Inverse Sensor Model:</strong></p>
<p>Open another shell within the Docker container and execute the launch file to start the geometric inverse sensor model:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">source devel/setup.bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">roslaunch object_fusion GeometricISM.launch</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Expected RViz Visualization:</strong></p>
<p><img decoding="async" loading="lazy" alt="Image Segmentation" src="/Autonomous-Connected-Driving/assets/images/rviz_points2-bc11882a83116e782b82bc543d166d66.png" width="1200" height="846" class="img_ev3q"></p>
<ul>
<li><strong>Original Point Cloud:</strong> Colored by the intensity of reflections.</li>
<li><strong>Obstacle Point Cloud:</strong> Colored in purple.</li>
<li><strong>Ground Points:</strong> Visualized separately, toggleable via the RViz interface.</li>
</ul>
</li>
</ol>
<p><em>Note:</em> Adjust visualization settings in RViz to enhance clarity and focus on specific aspects of the point cloud data.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="task-2-separate-obstacles-from-ground">Task 2: Separate Obstacles from Ground<a href="#task-2-separate-obstacles-from-ground" class="hash-link" aria-label="Direct link to Task 2: Separate Obstacles from Ground" title="Direct link to Task 2: Separate Obstacles from Ground">​</a></h3>
<p><strong>Objective:</strong> Utilize the <code>PassThrough</code> filter from the PointCloudLibrary (PCL) to preprocess LiDAR point clouds by distinguishing ground points from obstacles, enhancing the accuracy of occupancy grid mapping.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="steps-1">Steps:<a href="#steps-1" class="hash-link" aria-label="Direct link to Steps:" title="Direct link to Steps:">​</a></h4>
<ol>
<li>
<p><strong>Understand the Data Structure:</strong></p>
<p>The LiDAR point clouds are published as ROS messages of type <code>sensor_msgs/PointCloud2</code>, containing points described by <code>x</code>, <code>y</code>, <code>z</code> coordinates, <code>intensity</code> of reflection, and the vertical sensor <code>ring</code> number.</p>
<p><img decoding="async" loading="lazy" alt="Image Segmentation" src="/Autonomous-Connected-Driving/assets/images/rqt_points2_fields-dff6746afb378f1f2aaa96d4e8334bb9.png" width="923" height="742" class="img_ev3q"></p>
</li>
<li>
<p><strong>Use the <code>PassThrough</code> Filter:</strong></p>
<p>The <code>PassThrough</code> filter allows setting parameters to determine which points to retain or discard based on specified criteria.</p>
</li>
<li>
<p><strong>Locate the Filter Configuration:</strong></p>
<p>The <code>PassThrough</code> filter is configured in the <code>GeometricISM.launch</code> file:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">node</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">pkg</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">nodelet</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">nodelet</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">GroundExtraction</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">args</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">load pcl/PassThrough $(arg nodelet_manager)</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">output</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">screen</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">remap</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">from</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">~input</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">to</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/points2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">remap</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">from</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">~output</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">to</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/points2_obstacles</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">rosparam</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    filter_limit_negative: False</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    filter_field_name: x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    filter_limit_min: -50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    filter_limit_max: 50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">rosparam</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">node</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Adjust Filter Parameters:</strong></p>
<p>Modify the parameters to effectively extract ground points while retaining obstacle points.</p>
<p><strong>Example Configuration:</strong></p>
<p>To filter out ground points based on the <code>z</code> axis:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">node</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">pkg</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">nodelet</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">nodelet</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">GroundExtraction</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">args</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">load pcl/PassThrough $(arg nodelet_manager)</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">output</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">screen</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">remap</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">from</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">~input</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">to</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/points2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">remap</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">from</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">~output</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">to</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/points2_obstacles</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">rosparam</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    filter_limit_negative: False</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    filter_field_name: z</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    filter_limit_min: 0.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    filter_limit_max: 10.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">rosparam</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">node</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>filter_field_name:</strong> <code>z</code> to target vertical positioning.</li>
<li><strong>filter_limit_min:</strong> <code>0.2</code> meters to exclude points very close to the ground.</li>
<li><strong>filter_limit_max:</strong> <code>10.0</code> meters to include points within a reasonable detection range.</li>
</ul>
</li>
<li>
<p><strong>Apply the Changes:</strong></p>
<ul>
<li>
<p><strong>Kill the Running Launch File:</strong> Press <code>CTRL-C</code> in the terminal where the launch file is running.</p>
</li>
<li>
<p><strong>Restart the Launch File:</strong> Apply the updated filter parameters by relaunching:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">roslaunch object_fusion GeometricISM.launch</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>
<p><strong>Verify in RViz:</strong></p>
<ul>
<li><strong>Toggle Point Clouds:</strong> In RViz, (de-)activate the visualization of ground and obstacle point clouds by toggling the checkboxes.</li>
<li><strong>Assess Filtering Effectiveness:</strong> Ensure that ground points are effectively separated from obstacle points, reducing noise and enhancing occupancy grid accuracy.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Image Segmentation" src="/Autonomous-Connected-Driving/assets/images/rqt_points2_fields-dff6746afb378f1f2aaa96d4e8334bb9.png" width="923" height="742" class="img_ev3q"></p>
</li>
</ol>
<p><em>Note:</em> Fine-tuning filter parameters may require iterative adjustments based on the specific environment and LiDAR characteristics.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="task-3-implement-object-fusion">Task 3: Implement Object Fusion<a href="#task-3-implement-object-fusion" class="hash-link" aria-label="Direct link to Task 3: Implement Object Fusion" title="Direct link to Task 3: Implement Object Fusion">​</a></h3>
<p><strong>Objective:</strong> Complete the Kalman Filter&#x27;s measurement update phase by implementing the <strong>Object Fusion</strong> step, integrating sensor measurements to refine object states.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="understanding-the-kalman-filter-measurement-update">Understanding the Kalman Filter Measurement Update<a href="#understanding-the-kalman-filter-measurement-update" class="hash-link" aria-label="Direct link to Understanding the Kalman Filter Measurement Update" title="Direct link to Understanding the Kalman Filter Measurement Update">​</a></h4>
<p>The <strong>Kalman Filter</strong> is an optimal recursive data processing algorithm used for estimating the state of a dynamic system from a series of incomplete and noisy measurements. In the context of object fusion, the Kalman Filter integrates sensor data to produce a refined estimate of each object&#x27;s state (e.g., position, velocity).</p>
<p>The measurement update phase (also known as the <strong>correction step</strong>) adjusts the predicted state based on the new measurements, taking into account the uncertainties in both the prediction and the measurements.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-steps">Implementation Steps:<a href="#implementation-steps" class="hash-link" aria-label="Direct link to Implementation Steps:" title="Direct link to Implementation Steps:">​</a></h4>
<ol>
<li>
<p><strong>Navigate to the Fusion Module:</strong></p>
<p>Open the <code>StateFuser.cpp</code> file located at:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">workshops/section_3/object_fusion/src/modules/fuser/StateFuser.cpp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Locate the Fusion Code Snippet:</strong></p>
<p>Identify the section marked for Task 3, responsible for implementing the Kalman Filter&#x27;s measurement update:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// START TASK 3 CODE HERE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ADD YOUR CODE HERE...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// END TASK 3 CODE HERE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Understand the Existing Code Structure:</strong></p>
<p>The fusion process involves the following steps:</p>
<ul>
<li><strong>Prediction:</strong> Estimate the current state based on the previous state and motion model.</li>
<li><strong>Measurement Update (Fusion):</strong> Incorporate new measurements to refine the state estimate.</li>
<li><strong>Overwrite the Global Object List:</strong> Update the <code>data_-&gt;object_list_fused.objects</code> with the fused states.</li>
</ul>
</li>
<li>
<p><strong>Implement the Kalman Filter Measurement Update:</strong></p>
<p>Complete the measurement update equations to integrate the new measurements. Below is an example implementation:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// START TASK 3 CODE HERE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Implement Kalman Filter Measurement Update for each dynamic object</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">size_t i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> data_</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">object_list_fused</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">++</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    IkaObject</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> fused_object </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data_</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">object_list_fused</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Retrieve the predicted state vector (mean)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Eigen</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">VectorXd predicted_mean </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">IkaUtilities</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getEigenStateVec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fused_object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Retrieve the predicted covariance matrix</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Eigen</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">MatrixXd predicted_covariance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">IkaUtilities</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getEigenCovariance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fused_object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Measurement vector (from sensor)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Eigen</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">VectorXd measurement </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">IkaUtilities</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getEigenMeasurement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data_</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">object_list_measured</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Measurement noise covariance matrix</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Eigen</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">MatrixXd R </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getMeasurementNoiseCovariance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Observation matrix</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Eigen</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">MatrixXd H </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getObservationMatrix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Compute Kalman Gain</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Eigen</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">MatrixXd S </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> H </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> predicted_covariance </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> H</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">transpose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Eigen</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">MatrixXd K </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> predicted_covariance </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> H</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">transpose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> S</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">inverse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Update state estimate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Eigen</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">VectorXd y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> measurement </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> H </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> predicted_mean</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Innovation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Eigen</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">VectorXd updated_mean </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> predicted_mean </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> K </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Update covariance estimate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Eigen</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">MatrixXd I </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Eigen</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">MatrixXd</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">Identity</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">predicted_covariance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">rows</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> predicted_covariance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">cols</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Eigen</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">MatrixXd updated_covariance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">I </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> K </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> H</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> predicted_covariance</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Overwrite the fused object&#x27;s state vector and covariance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">IkaUtilities</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setEigenStateVec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fused_object</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> updated_mean</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">IkaUtilities</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setEigenCovariance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fused_object</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> updated_covariance</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// END TASK 3 CODE HERE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explanation:</strong></p>
<ul>
<li>
<p><strong>Loop Through Fused Objects:</strong>
Iterate over each object in the fused object list to perform the measurement update.</p>
</li>
<li>
<p><strong>Retrieve Predicted State and Covariance:</strong>
Obtain the predicted state vector (<code>predicted_mean</code>) and covariance matrix (<code>predicted_covariance</code>) from the fused object.</p>
</li>
<li>
<p><strong>Measurement Vector:</strong>
Extract the measurement vector (<code>measurement</code>) from the newly received sensor data corresponding to the same object.</p>
</li>
<li>
<p><strong>Measurement Noise Covariance (<code>R</code>):</strong>
Define the measurement noise covariance matrix based on sensor characteristics.</p>
</li>
<li>
<p><strong>Observation Matrix (<code>H</code>):</strong>
Define the observation matrix that maps the state space to the measurement space.</p>
</li>
<li>
<p><strong>Compute Kalman Gain (<code>K</code>):</strong>
Calculate the Kalman Gain, which determines the weight given to the new measurement.</p>
</li>
<li>
<p><strong>Update State Estimate (<code>updated_mean</code>):</strong>
Adjust the predicted state based on the innovation (<code>y</code>), which is the difference between the actual measurement and the predicted measurement.</p>
</li>
<li>
<p><strong>Update Covariance Estimate (<code>updated_covariance</code>):</strong>
Refine the covariance estimate to reflect the reduced uncertainty after incorporating the measurement.</p>
</li>
<li>
<p><strong>Overwrite Fused Object State:</strong>
Update the fused object&#x27;s state vector and covariance matrix with the refined estimates.</p>
</li>
</ul>
</li>
<li>
<p><strong>Define Helper Functions:</strong></p>
<p>Ensure that helper functions like <code>getMeasurementNoiseCovariance()</code> and <code>getObservationMatrix()</code> are defined to provide the necessary matrices for the Kalman Filter.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Eigen</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">MatrixXd </span><span class="token class-name">StateFuser</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getMeasurementNoiseCovariance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Eigen</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">MatrixXd </span><span class="token function" style="color:#d73a49">R</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Example for position and velocity</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    R </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">0.1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">0.1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">0.1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Eigen</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">MatrixXd </span><span class="token class-name">StateFuser</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getObservationMatrix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Eigen</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">MatrixXd </span><span class="token function" style="color:#d73a49">H</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Example dimensions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    H </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// x position</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// y position</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// velocity</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// acceleration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> H</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em>Note:</em> Adjust the dimensions and values of <code>R</code> and <code>H</code> based on the specific state and measurement vectors used in your implementation.</p>
</li>
<li>
<p><strong>Rebuild the ROS Workspace:</strong></p>
<p>After implementing the fusion logic, rebuild the <code>object_fusion</code> package:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/catkin_workspace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">catkin build object_fusion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source devel/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Launch the Object Fusion Node:</strong></p>
<p>Restart the launch file to apply the changes:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">roslaunch object_fusion GeometricISM.launch</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Visualize the Fused Objects in RViz:</strong></p>
<ul>
<li><strong>Enable Fused Object Visualization:</strong> In RViz, ensure that the &quot;Fused Objects&quot; display is activated.</li>
<li><strong>Inspect Fused Object States:</strong> The fused objects should now display refined positions, velocities, and classifications based on the integrated sensor data.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Fusion RViz" src="/Autonomous-Connected-Driving/assets/images/fusion_rviz-a3969cc8b03e41284ba4c1f9695887fb.gif" width="512" height="556" class="img_ev3q"></p>
<p><em>Observation:</em> The occupancy grid maps and fused objects should reflect accurate and consistent tracking, demonstrating effective sensor data integration.</p>
</li>
</ol>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bonus-task-explore-fusion-parameters">Bonus Task: Explore Fusion Parameters<a href="#bonus-task-explore-fusion-parameters" class="hash-link" aria-label="Direct link to Bonus Task: Explore Fusion Parameters" title="Direct link to Bonus Task: Explore Fusion Parameters">​</a></h3>
<p><strong>Objective:</strong> Enhance the object fusion performance by tuning the fusion parameters, understanding their impact on tracking accuracy and reliability.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="understanding-fusion-parameters">Understanding Fusion Parameters<a href="#understanding-fusion-parameters" class="hash-link" aria-label="Direct link to Understanding Fusion Parameters" title="Direct link to Understanding Fusion Parameters">​</a></h4>
<p>Fusion parameters govern how sensor data is integrated and influence the Kalman Filter&#x27;s responsiveness to new measurements. Key parameters include:</p>
<ul>
<li><strong>Process Noise Matrix (<code>Q</code>):</strong> Represents the uncertainty in the system&#x27;s motion model.</li>
<li><strong>Mahalanobis Distance Threshold:</strong> Determines the acceptance criteria for associating measurements with existing tracks.</li>
<li><strong>Intersection over Union (IoU) Overlap Threshold:</strong> Defines the overlap required between predicted and measured bounding boxes for association.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="steps-2">Steps:<a href="#steps-2" class="hash-link" aria-label="Direct link to Steps:" title="Direct link to Steps:">​</a></h4>
<ol>
<li>
<p><strong>Locate the Configuration Files:</strong></p>
<p>The fusion parameters are defined in YAML configuration files located at:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">object_fusion_wrapper/param/kalman_filter.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object_fusion_wrapper/param/fusion.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Tune the Process Noise Matrix (<code>Q</code>):</strong></p>
<p>The process noise matrix (<code>Q</code>) influences the filter&#x27;s trust in the motion model. Adjusting its diagonal entries affects the estimated uncertainty.</p>
<ul>
<li>
<p><strong>Parameters to Adjust:</strong></p>
<ul>
<li><code>time_variant_process_noise_matrix[0][0]</code>: Position uncertainty.</li>
<li><code>time_variant_process_noise_matrix[1][1]</code>: Velocity uncertainty.</li>
<li><em>(Add other relevant entries based on your state vector.)</em></li>
</ul>
</li>
<li>
<p><strong>Values to Test:</strong></p>
<ul>
<li><strong>0.001:</strong> Low uncertainty, high confidence in the motion model.</li>
<li><strong>0.1:</strong> Moderate uncertainty.</li>
<li><strong>100:</strong> High uncertainty, low confidence in the motion model.</li>
</ul>
</li>
<li>
<p><strong>Effects:</strong></p>
<ul>
<li><strong>Low (<code>0.001</code>):</strong> The filter heavily relies on the motion model, potentially ignoring measurements that deviate significantly.</li>
<li><strong>Moderate (<code>0.1</code>):</strong> Balanced trust between the motion model and measurements.</li>
<li><strong>High (<code>100</code>):</strong> The filter is more responsive to measurements, allowing rapid state corrections but may be susceptible to noise.</li>
</ul>
</li>
<li>
<p><strong>Implementation:</strong>
Edit <code>kalman_filter.yaml</code>:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">time_variant_process_noise_matrix</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0.001</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">0.001</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">0.001</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">0.001</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em>(Adjust the dimensions and values based on your specific state vector.)</em></p>
</li>
</ul>
</li>
<li>
<p><strong>Tune the Association Parameters:</strong></p>
<p><strong>a. Mahalanobis Distance Threshold:</strong></p>
<ul>
<li>
<p><strong>Parameter to Adjust:</strong></p>
<ul>
<li><code>fusion_passat:constants:mahalanobis_threshold</code></li>
</ul>
</li>
<li>
<p><strong>Values to Test:</strong></p>
<ul>
<li><strong>2.0 (Standard Deviations):</strong> Conservative association, reducing false positives.</li>
<li><strong>3.0 (Standard Deviations):</strong> Slightly more lenient.</li>
<li><strong>4.0 (Standard Deviations):</strong> Even more lenient.</li>
<li><strong>5.0 (Standard Deviations):</strong> Highly lenient, increasing potential false associations.</li>
</ul>
</li>
<li>
<p><strong>Effects:</strong></p>
<ul>
<li><strong>Lower Threshold (<code>2.0</code>):</strong> Stricter association criteria, minimizing incorrect associations but may miss valid ones.</li>
<li><strong>Higher Threshold (<code>5.0</code>):</strong> More permissive, allowing more associations but increasing the risk of false positives.</li>
</ul>
</li>
<li>
<p><strong>Implementation:</strong>
Edit <code>fusion.yaml</code>:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">fusion_passat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">constants</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">mahalanobis_threshold</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<p><strong>b. Intersection over Union (IoU) Overlap Threshold:</strong></p>
<ul>
<li>
<p><strong>Parameter to Adjust:</strong></p>
<ul>
<li><code>fusion_passat:constants:iou_overlap_threshold</code></li>
</ul>
</li>
<li>
<p><strong>Values to Test:</strong></p>
<ul>
<li><strong>0.1:</strong> Very lenient, allowing minimal overlap for association.</li>
<li><strong>0.2:</strong> Slightly stricter.</li>
<li><strong>0.5:</strong> Moderate, requiring significant overlap.</li>
</ul>
</li>
<li>
<p><strong>Effects:</strong></p>
<ul>
<li><strong>Lower Threshold (<code>0.1</code>):</strong> Allows more associations with minimal overlap, increasing the chance of false positives.</li>
<li><strong>Higher Threshold (<code>0.5</code>):</strong> Requires substantial overlap, reducing false associations but may miss valid ones with slight misalignments.</li>
</ul>
</li>
<li>
<p><strong>Implementation:</strong>
Edit <code>fusion.yaml</code>:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">fusion_passat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">constants</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">iou_overlap_threshold</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>
<p><strong>Apply the Parameter Changes:</strong></p>
<ul>
<li>
<p><strong>Edit the YAML Files:</strong>
Use a text editor to modify the parameters as per the values to test.</p>
</li>
<li>
<p><strong>Rebuild the ROS Workspace:</strong>
After adjusting parameters, rebuild the <code>object_fusion</code> package to apply changes:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/catkin_workspace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">catkin build object_fusion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source devel/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Relaunch the Fusion Node:</strong>
Restart the launch file to incorporate the updated parameters:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">roslaunch object_fusion GeometricISM.launch</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>
<p><strong>Observe the Effects in RViz:</strong></p>
<ul>
<li><strong>Enable Fused Object Visualization:</strong> Ensure that the &quot;Fused Objects&quot; display is active.</li>
<li><strong>Assess Tracking Performance:</strong> Monitor how changes to fusion parameters affect object tracking, including the accuracy of position estimates and the occurrence of false positives or missed detections.</li>
<li><strong>Iterate as Necessary:</strong> Continue adjusting parameters to achieve a balance between sensitivity and specificity in object fusion.</li>
</ul>
</li>
<li>
<p><strong>Evaluate Association Criteria Robustness:</strong></p>
<ul>
<li>
<p><strong>Mahalanobis Distance vs. IoU Threshold:</strong></p>
<ul>
<li><strong>Mahalanobis Distance:</strong> Measures the distance between the predicted and measured states, considering the covariance. It&#x27;s effective for handling measurement uncertainties.</li>
<li><strong>IoU Threshold:</strong> Assesses the overlap between predicted and measured bounding boxes. It&#x27;s straightforward but may not account for measurement uncertainties as effectively as Mahalanobis Distance.</li>
</ul>
</li>
<li>
<p><strong>Robustness Analysis:</strong></p>
<ul>
<li><strong>Mahalanobis Distance:</strong> Generally more robust in handling noisy measurements and varying object dynamics.</li>
<li><strong>IoU Threshold:</strong> Simpler but can be less reliable in cluttered environments or with imperfect bounding box estimates.</li>
</ul>
</li>
<li>
<p><strong>Conclusion:</strong> Combining both criteria often yields better association performance, leveraging the strengths of each method.</p>
</li>
</ul>
</li>
<li>
<p><strong>Advanced Parameter Tuning:</strong></p>
<p>Experiment with other parameters in the YAML configuration files to further refine fusion performance. Document the effects of each change to build an intuitive understanding of the fusion process.</p>
<p><em>Note:</em> Achieving &quot;perfect&quot; object fusion is challenging due to inherent sensor noise, dynamic environments, and computational limitations. Strive for a balance that minimizes false positives and negatives while maintaining real-time performance.</p>
</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="wrap-up">Wrap-up<a href="#wrap-up" class="hash-link" aria-label="Direct link to Wrap-up" title="Direct link to Wrap-up">​</a></h2>
<p>In this workshop, you have:</p>
<ul>
<li><strong>Implemented Object Fusion:</strong>
<ul>
<li>Completed the Kalman Filter&#x27;s measurement update phase to integrate sensor measurements and refine object states.</li>
</ul>
</li>
<li><strong>Understood Fusion Parameters:</strong>
<ul>
<li>Explored the impact of process noise and association thresholds on tracking performance.</li>
</ul>
</li>
<li><strong>Utilized ROS for Fusion:</strong>
<ul>
<li>Leveraged ROS packages and launch files to manage and visualize fused objects.</li>
</ul>
</li>
<li><strong>Visualized Fused Objects in RViz:</strong>
<ul>
<li>Inspected and analyzed the results of object fusion using RViz, enhancing your understanding of tracking accuracy.</li>
</ul>
</li>
<li><strong>Tuned Fusion Performance:</strong>
<ul>
<li>Adjusted and evaluated fusion parameters to optimize tracking reliability and accuracy.</li>
</ul>
</li>
</ul>
<p>These skills are foundational for developing robust perception systems in autonomous vehicles, enabling accurate object tracking and informed decision-making in dynamic environments.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2>
<ul>
<li>
<p><strong>PointCloudLibrary (PCL):</strong> <a href="https://pointclouds.org" target="_blank" rel="noopener noreferrer">https://pointclouds.org</a></p>
<p>PCL is a standalone, large scale, open project for 2D/3D image and point cloud processing, widely used in robotics and computer vision applications.</p>
</li>
<li>
<p><strong>Eigen Library:</strong> <a href="https://eigen.tuxfamily.org" target="_blank" rel="noopener noreferrer">https://eigen.tuxfamily.org</a></p>
<p>Eigen is a C++ template library for linear algebra, including matrices, vectors, numerical solvers, and related algorithms.</p>
</li>
<li>
<p><strong>Kalman Filter Theory:</strong> <a href="https://en.wikipedia.org/wiki/Kalman_filter" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Kalman_filter</a></p>
<p>Comprehensive overview of Kalman Filters, including their mathematical foundations and applications.</p>
</li>
<li>
<p><strong>PointPillars Paper:</strong> <a href="https://arxiv.org/abs/1812.05784" target="_blank" rel="noopener noreferrer">https://arxiv.org/abs/1812.05784</a></p>
<p>The original research paper detailing the PointPillars model used for efficient and accurate object detection in LiDAR point clouds.</p>
</li>
<li>
<p><strong>PCL PassThrough Filter Tutorial:</strong> <a href="https://wiki.ros.org/pcl_ros/Tutorials/filters#PassThrough" target="_blank" rel="noopener noreferrer">https://wiki.ros.org/pcl_ros/Tutorials/filters#PassThrough</a></p>
<p>Step-by-step guide on using the <code>PassThrough</code> filter in PCL for point cloud preprocessing.</p>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/task/03_object_fusion_tracking/03_Object-Fusion.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Autonomous-Connected-Driving/docs/task/object_fusion_tracking/Object-Association"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Object Association</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Autonomous-Connected-Driving/docs/category/vehicle-guidance"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Vehicle Guidance</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#learning-objectives" class="table-of-contents__link toc-highlight">Learning Objectives</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#setup-instructions" class="table-of-contents__link toc-highlight">Setup Instructions</a><ul><li><a href="#1-clone-the-repository-and-navigate-to-the-workspace" class="table-of-contents__link toc-highlight">1. Clone the Repository and Navigate to the Workspace</a></li><li><a href="#2-clone-the-necessary-packages" class="table-of-contents__link toc-highlight">2. Clone the Necessary Packages</a></li><li><a href="#3-download-the-required-bag-file" class="table-of-contents__link toc-highlight">3. Download the Required Bag File</a></li><li><a href="#4-build-the-workspace" class="table-of-contents__link toc-highlight">4. Build the Workspace</a></li><li><a href="#5-launch-the-ros-environment-with-rviz-and-rosbag" class="table-of-contents__link toc-highlight">5. Launch the ROS Environment with RViz and Rosbag</a></li></ul></li><li><a href="#tasks" class="table-of-contents__link toc-highlight">Tasks</a><ul><li><a href="#task-1-set-up-and-test-the-ros-workspace" class="table-of-contents__link toc-highlight">Task 1: Set Up and Test the ROS Workspace</a></li><li><a href="#task-2-separate-obstacles-from-ground" class="table-of-contents__link toc-highlight">Task 2: Separate Obstacles from Ground</a></li><li><a href="#task-3-implement-object-fusion" class="table-of-contents__link toc-highlight">Task 3: Implement Object Fusion</a></li><li><a href="#bonus-task-explore-fusion-parameters" class="table-of-contents__link toc-highlight">Bonus Task: Explore Fusion Parameters</a></li></ul></li><li><a href="#wrap-up" class="table-of-contents__link toc-highlight">Wrap-up</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Coding</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Autonomous-Connected-Driving/docs/cpp/getting_started">C++</a></li><li class="footer__item"><a class="footer__link-item" href="/Autonomous-Connected-Driving/docs/python/getting_started">Python</a></li></ul></div><div class="col footer__col"><div class="footer__title">Robot Operating System</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Autonomous-Connected-Driving/docs/ros/getting_started">ROS</a></li><li class="footer__item"><a class="footer__link-item" href="/Autonomous-Connected-Driving/docs/ros2/getting_started">ROS2</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Autonomous-Connected-Driving/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/CagriCatik/Autonomous-Connected-Driving" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 - Automated and Connected Driving.</div></div></div></footer></div>
</body>
</html>