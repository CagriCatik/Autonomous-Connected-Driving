<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-task/sensor_data_processing/Object-Detection" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Object Detection | Automated and Connected Driving</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://cagricatik.github.io/Autonomous-Connected-Driving/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://cagricatik.github.io/Autonomous-Connected-Driving/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://cagricatik.github.io/Autonomous-Connected-Driving/docs/task/sensor_data_processing/Object-Detection"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Object Detection | Automated and Connected Driving"><meta data-rh="true" name="description" content="ROS1"><meta data-rh="true" property="og:description" content="ROS1"><link data-rh="true" rel="icon" href="/Autonomous-Connected-Driving/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://cagricatik.github.io/Autonomous-Connected-Driving/docs/task/sensor_data_processing/Object-Detection"><link data-rh="true" rel="alternate" href="https://cagricatik.github.io/Autonomous-Connected-Driving/docs/task/sensor_data_processing/Object-Detection" hreflang="en"><link data-rh="true" rel="alternate" href="https://cagricatik.github.io/Autonomous-Connected-Driving/docs/task/sensor_data_processing/Object-Detection" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/Autonomous-Connected-Driving/blog/rss.xml" title="Automated and Connected Driving RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Autonomous-Connected-Driving/blog/atom.xml" title="Automated and Connected Driving Atom Feed"><link rel="stylesheet" href="/Autonomous-Connected-Driving/assets/css/styles.ce2d5abf.css">
<script src="/Autonomous-Connected-Driving/assets/js/runtime~main.b1a762c2.js" defer="defer"></script>
<script src="/Autonomous-Connected-Driving/assets/js/main.62095f23.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Autonomous-Connected-Driving/"><div class="navbar__logo"><img src="/Autonomous-Connected-Driving/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Autonomous-Connected-Driving/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/theory/introduction-tools/getting_started">Introduction &amp; Tools</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/theory/sensor-data-processing/getting_started">Sensor Data Processing</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/theory/object-fusion-tracking/getting_started">Object Fusion and Tracking</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/theory/vehicle-guidance/getting_started">Vehicle Guidance</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/theory/connected-driving/getting_started">Connected Driving</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Autonomous-Connected-Driving/docs/task/getting_started">Tasks</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/cpp/getting_started">C++</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/python/getting_started">Python</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/ros/getting_started">ROS</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/ros2/getting_started">ROS2</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Autonomous-Connected-Driving/docs/task/getting_started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Autonomous-Connected-Driving/docs/category/introduction--tools">Introduction &amp; Tools</a><button aria-label="Expand sidebar category &#x27;Introduction &amp; Tools&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/Autonomous-Connected-Driving/docs/category/sensor-data-processing">Sensor Data Processing</a><button aria-label="Collapse sidebar category &#x27;Sensor Data Processing&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Autonomous-Connected-Driving/docs/task/sensor_data_processing/Camera-based-Semantic-Grid-Mapping">Camera-based Semantic Grid Mapping</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Autonomous-Connected-Driving/docs/task/sensor_data_processing/Deep-OGM">Deep Learning-based Point Cloud Occupancy Grid Mapping</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Autonomous-Connected-Driving/docs/task/sensor_data_processing/Geometric-OGM">Geometric Point Cloud Occupancy Grid Mapping</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Autonomous-Connected-Driving/docs/task/sensor_data_processing/Localization">Localization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Autonomous-Connected-Driving/docs/task/sensor_data_processing/Object-Detection">Object Detection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Autonomous-Connected-Driving/docs/task/sensor_data_processing/Semantic-Image-Segmentation">Semantic Image Segmentation Applied on Camera Images</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Autonomous-Connected-Driving/docs/task/sensor_data_processing/Semantic-Point-Cloud-Segmentation">Perform Deep Learning Based Semantic Point Cloud Segmentation</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Autonomous-Connected-Driving/docs/category/object-fusion-tracking">Object Fusion Tracking</a><button aria-label="Expand sidebar category &#x27;Object Fusion Tracking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Autonomous-Connected-Driving/docs/category/vehicle-guidance">Vehicle Guidance</a><button aria-label="Expand sidebar category &#x27;Vehicle Guidance&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Autonomous-Connected-Driving/docs/category/connected-driving">Connected Driving</a><button aria-label="Expand sidebar category &#x27;Connected Driving&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Autonomous-Connected-Driving/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/Autonomous-Connected-Driving/docs/category/sensor-data-processing"><span itemprop="name">Sensor Data Processing</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Object Detection</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Object Detection</h1></header>
<p><img decoding="async" loading="lazy" src="https://img.shields.io/badge/ROS1-blue" alt="ROS1" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="fag1" src="/Autonomous-Connected-Driving/assets/images/header_object_detection-0bd0074e459af002b08c758c94c9297c.png" width="1276" height="392" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>Object detection is a fundamental capability in autonomous vehicle systems, enabling the vehicle to perceive and understand its surrounding environment. This workshop focuses on <strong>3D object detection</strong> using raw LiDAR data within the <strong>Robot Operating System (ROS)</strong> framework. Specifically, we will work with data recorded from a test vehicle equipped with a <a href="https://icave2.cse.buffalo.edu/resources/sensor-modeling/VLP32CManual.pdf" target="_blank" rel="noopener noreferrer">Velodyne VLP-32C</a> LiDAR sensor. Utilizing a state-of-the-art 3D object detection model, participants will learn to predict bounding boxes around detected objects, facilitating tasks such as navigation, obstacle avoidance, and path planning.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="learning-objectives">Learning Objectives<a href="#learning-objectives" class="hash-link" aria-label="Direct link to Learning Objectives" title="Direct link to Learning Objectives">​</a></h2>
<p>By the end of this workshop, participants will be able to:</p>
<ul>
<li><strong>Understand ROS Object Definitions:</strong> Comprehend how objects are defined and structured within ROS messages.</li>
<li><strong>Visualize LiDAR Point Clouds in RViz:</strong> Utilize RViz to visualize and interpret raw LiDAR data.</li>
<li><strong>Launch and Operate ROS Nodes:</strong> Execute ROS nodes that apply detection algorithms to raw sensor data.</li>
<li><strong>Visualize Detected Objects in RViz:</strong> Use RViz to display and analyze detected objects with bounding boxes.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<ul>
<li><strong>Basic Knowledge of ROS:</strong> Familiarity with ROS concepts, including nodes, topics, and messages.</li>
<li><strong>C++ Programming Skills:</strong> Ability to read and modify C++ code.</li>
<li><strong>Understanding of LiDAR Technology:</strong> Basic comprehension of LiDAR sensors and point cloud data.</li>
<li><strong>Experience with RViz:</strong> Prior experience using RViz for visualization is beneficial but not mandatory.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-instructions">Setup Instructions<a href="#setup-instructions" class="hash-link" aria-label="Direct link to Setup Instructions" title="Direct link to Setup Instructions">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-clone-the-repository-and-navigate-to-the-workspace">1. Clone the Repository and Navigate to the Workspace<a href="#1-clone-the-repository-and-navigate-to-the-workspace" class="hash-link" aria-label="Direct link to 1. Clone the Repository and Navigate to the Workspace" title="Direct link to 1. Clone the Repository and Navigate to the Workspace">​</a></h3>
<p>Ensure you have access to the necessary ROS workspace. Navigate to your workspace directory:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/catkin_workspace/src</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-clone-the-necessary-packages">2. Clone the Necessary Packages<a href="#2-clone-the-necessary-packages" class="hash-link" aria-label="Direct link to 2. Clone the Necessary Packages" title="Direct link to 2. Clone the Necessary Packages">​</a></h3>
<p>Clone the <code>lidar_detection</code> package along with its dependencies:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/ika-rwth-aachen/acdc.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd acdc/catkin_workspace/src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/ika-rwth-aachen/acdc.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-download-the-required-bag-file">3. Download the Required Bag File<a href="#3-download-the-required-bag-file" class="hash-link" aria-label="Direct link to 3. Download the Required Bag File" title="Direct link to 3. Download the Required Bag File">​</a></h3>
<p>Download the LiDAR data recording from Campus Melaten in Aachen:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">wget -O lidar_campus_melaten.bag https://rwth-aachen.sciebo.de/s/udlMYloXpCdVtyp/download</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Alternatively, access the bag file directly <a href="https://rwth-aachen.sciebo.de/s/udlMYloXpCdVtyp" target="_blank" rel="noopener noreferrer"><strong>here</strong></a> (approx. 1.5 GB). Save the file to the local directory <code>${REPOSITORY}/bag</code> on your host machine, which is mounted to <code>~/bag</code> in the Docker container.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-build-the-workspace">4. Build the Workspace<a href="#4-build-the-workspace" class="hash-link" aria-label="Direct link to 4. Build the Workspace" title="Direct link to 4. Build the Workspace">​</a></h3>
<p>Navigate to your workspace and build the packages:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/catkin_workspace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">catkin build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source devel/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em>Note:</em> If you encounter a compilation error similar to <code>g++: internal compiler error: Killed (program cc1plus)</code>, it indicates excessive resource consumption. To resolve this, disable parallel building:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">catkin build -j 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source devel/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-launch-the-ros-environment-with-rviz-and-rosbag">5. Launch the ROS Environment with RViz and Rosbag<a href="#5-launch-the-ros-environment-with-rviz-and-rosbag" class="hash-link" aria-label="Direct link to 5. Launch the ROS Environment with RViz and Rosbag" title="Direct link to 5. Launch the ROS Environment with RViz and Rosbag">​</a></h3>
<p>To streamline the process of launching <code>rosbag play</code> and <code>RViz</code> simultaneously, utilize the provided launch file:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">roslaunch lidar_detection start_rosbag_play_rviz.launch</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This command performs the following actions:</p>
<ul>
<li><strong>Rosbag Playback:</strong> Plays the <code>lidar_campus_melaten.bag</code> file.</li>
<li><strong>RViz Visualization:</strong> Launches RViz with a pre-configured display for point clouds.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="expected-terminal-output">Expected Terminal Output:<a href="#expected-terminal-output" class="hash-link" aria-label="Direct link to Expected Terminal Output:" title="Direct link to Expected Terminal Output:">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Initialization of Trajectory Planner done!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Trajectory optimization SUCCESSFUL after [...]s.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Trajectory optimization SUCCESSFUL after [...]s.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="expected-rviz-visualization">Expected RViz Visualization:<a href="#expected-rviz-visualization" class="hash-link" aria-label="Direct link to Expected RViz Visualization:" title="Direct link to Expected RViz Visualization:">​</a></h4>
<p><img decoding="async" loading="lazy" alt="fag1" src="/Autonomous-Connected-Driving/assets/images/rviz-52e984e1783793cc0d2fc67a86d1f1fb.png" width="1634" height="881" class="img_ev3q"></p>
<ul>
<li><strong>PointCloud2 Display:</strong> Shows the raw LiDAR point cloud data.</li>
<li><strong>Adjust Visualization Settings:</strong> Enhance visibility by modifying parameters such as <code>Size</code>, <code>Style</code>, <code>Decay Time</code>, and <code>Color Transformer</code> in the <code>PointCloud2</code> tab.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rviz-navigation-controls">RViz Navigation Controls:<a href="#rviz-navigation-controls" class="hash-link" aria-label="Direct link to RViz Navigation Controls:" title="Direct link to RViz Navigation Controls:">​</a></h4>
<ul>
<li><strong>Left Mouse Button:</strong> Rotate the view around the Z-axis.</li>
<li><strong>Middle Mouse Button:</strong> Pan the camera along the XY plane.</li>
<li><strong>Right Mouse Button:</strong> Zoom in and out.</li>
<li><strong>Scroll Wheel:</strong> Zoom in and out incrementally.</li>
</ul>
<p><strong>Congratulations!</strong> You have successfully visualized the raw LiDAR data. Proceed to the object detection algorithms in the subsequent sections.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="definitions">Definitions<a href="#definitions" class="hash-link" aria-label="Direct link to Definitions" title="Direct link to Definitions">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ros-object-definitions">ROS Object Definitions<a href="#ros-object-definitions" class="hash-link" aria-label="Direct link to ROS Object Definitions" title="Direct link to ROS Object Definitions">​</a></h3>
<p>Understanding how objects are defined and structured within ROS is crucial for effective communication between nodes and for processing detection results.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ika-ros-object-definition">ika ROS Object Definition<a href="#ika-ros-object-definition" class="hash-link" aria-label="Direct link to ika ROS Object Definition" title="Direct link to ika ROS Object Definition">​</a></h4>
<p>The <strong>ika</strong> definitions for ROS messages and internal utilities are located in the <a href="https://github.com/ika-rwth-aachen/acdc/blob/main/catkin_workspace/src/dependencies/definitions" target="_blank" rel="noopener noreferrer"><em>definitions</em></a> package. Specifically:</p>
<ul>
<li><strong>ROS Message Files:</strong> Located in <code>definitions/msg</code>.</li>
<li><strong>Internal Definitions:</strong> Found in <code>~/ws/catkin_workspace/src/dependencies/definitions/include/definitions/utility</code>.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="ikaobjectmsg">IkaObject.msg<a href="#ikaobjectmsg" class="hash-link" aria-label="Direct link to IkaObject.msg" title="Direct link to IkaObject.msg">​</a></h5>
<p>Defines the structure of a single 3D object detected by the LiDAR sensor.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">float32[] fMean               # State vector, containing attributes based on the chosen motion model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">float32[] fCovariance         # Covariance matrix, representing uncertainties in the state vector</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>fMean:</strong> Represents the object&#x27;s bounding box attributes such as position, velocity, acceleration, and orientation.</li>
<li><strong>fCovariance:</strong> Captures the uncertainties associated with each attribute in <code>fMean</code>, essential for tasks like object fusion.</li>
</ul>
<p><em>Note:</em> This assignment focuses solely on 3D object detection, thus only the <code>fMean</code> vector is utilized to describe an object&#x27;s bounding box.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="object_definitionsh">object_definitions.h<a href="#object_definitionsh" class="hash-link" aria-label="Direct link to object_definitions.h" title="Direct link to object_definitions.h">​</a></h5>
<p>Defines the enumeration of object types recognized by the system.</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">enum ika_object_types {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  UNCLASSIFIED = 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  PEDESTRIAN = 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  BICYCLE = 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  MOTORBIKE = 3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CAR = 4,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TRUCK = 5,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  VAN = 6,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  BUS = 7,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ANIMAL = 8,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ROAD_OBSTACLE = 9,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TRAILER = 10,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TYPES_COUNT = 11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>Key Object Classes:</strong> For simplicity, this workshop focuses on the following classes:<!-- -->
<ul>
<li><code>CAR</code> (ID: 4)</li>
<li><code>PEDESTRIAN</code> (ID: 1)</li>
<li><code>TRUCK</code> (ID: 5)</li>
<li><code>BICYCLE</code> (ID: 2)</li>
</ul>
</li>
</ul>
<p><em>Example Usage:</em> Access the <code>CAR</code> type in code using <code>definitions::ika_object_types::CAR</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ika-ros-object-lists-definition">ika ROS Object Lists Definition<a href="#ika-ros-object-lists-definition" class="hash-link" aria-label="Direct link to ika ROS Object Lists Definition" title="Direct link to ika ROS Object Lists Definition">​</a></h4>
<p>Handling multiple objects efficiently is essential for real-time applications. The <code>IkaObjectList.msg</code> facilitates this by aggregating multiple <code>IkaObject</code> messages into a single list.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="ikaobjectlistmsg">IkaObjectList.msg<a href="#ikaobjectlistmsg" class="hash-link" aria-label="Direct link to IkaObjectList.msg" title="Direct link to IkaObjectList.msg">​</a></h5>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">std_msgs/Header header</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># List meta information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uint8 IdSource    # See definitions/utility/object_definitions.h for enum of sensors</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Actual objects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IkaObject[] objects</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>header:</strong> Contains timestamp and frame information.</li>
<li><strong>IdSource:</strong> Identifies the sensor source of the object detections.</li>
<li><strong>objects:</strong> An array of <code>IkaObject</code> messages, allowing the transmission of multiple detected objects simultaneously.</li>
</ul>
<p><em>Benefits:</em></p>
<ul>
<li><strong>Efficiency:</strong> Reduces the overhead of publishing individual object messages.</li>
<li><strong>Organization:</strong> Simplifies the management and processing of multiple detections from various sources.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="measurement-data">Measurement Data<a href="#measurement-data" class="hash-link" aria-label="Direct link to Measurement Data" title="Direct link to Measurement Data">​</a></h2>
<p>For this workshop, we utilize real sensor data captured from our institute&#x27;s test vehicle equipped with a <strong>Velodyne VLP-32C</strong> LiDAR sensor. This sensor provides high-resolution 3D point clouds at a rate of 10 Hz, making it ideal for dynamic object detection tasks.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="downloading-the-lidar-bag-file">Downloading the LiDAR Bag File<a href="#downloading-the-lidar-bag-file" class="hash-link" aria-label="Direct link to Downloading the LiDAR Bag File" title="Direct link to Downloading the LiDAR Bag File">​</a></h3>
<p>Retrieve the recorded LiDAR data:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">wget -O lidar_campus_melaten.bag https://rwth-aachen.sciebo.de/s/udlMYloXpCdVtyp/download</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em>Alternatively,</em> access the bag file directly <a href="https://rwth-aachen.sciebo.de/s/udlMYloXpCdVtyp" target="_blank" rel="noopener noreferrer"><strong>here</strong></a> (approx. 1.5 GB). Save the file to the local directory <code>${REPOSITORY}/bag</code> on your host machine, which is mounted to <code>~/bag</code> within the Docker container.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rosbag-inspection">Rosbag Inspection<a href="#rosbag-inspection" class="hash-link" aria-label="Direct link to Rosbag Inspection" title="Direct link to Rosbag Inspection">​</a></h3>
<p>Inspect the contents of the bag file using the <code>rosbag info</code> command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rosbag info lidar_campus_melaten.bag </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="expected-output">Expected Output:<a href="#expected-output" class="hash-link" aria-label="Direct link to Expected Output:" title="Direct link to Expected Output:">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">path:        lidar_campus_melaten.bag </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version:     2.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">duration:    1:59s (119s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">start:       Feb 05 2020 15:25:31.41 (1580916331.41)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end:         Feb 05 2020 15:27:31.37 (1580916451.37)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">size:        1.5 GB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">messages:    1200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">compression: none [1199/1199 chunks]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">types:       sensor_msgs/PointCloud2 [1158d486dd51d683ce2f1be655c3c181]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             tf2_msgs/TFMessage      [94810edda583a504dfda3829e70d7eec]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">topics:      /points2     1199 msgs    : sensor_msgs/PointCloud2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             /tf_static      1 msg     : tf2_msgs/TFMessage</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>Topics:</strong>
<ul>
<li><code>/points2</code>: Contains <code>sensor_msgs/PointCloud2</code> messages representing raw LiDAR point clouds.</li>
<li><code>/tf_static</code>: Contains <code>tf2_msgs/TFMessage</code> messages for static transformations.</li>
</ul>
</li>
</ul>
<p><em>Note:</em> <code>sensor_msgs/PointCloud2</code> is a standard ROS message type for point cloud data, documented <a href="http://docs.ros.org/noetic/api/sensor_msgs/html/msg/PointCloud2.html" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rosbag-visualization">Rosbag Visualization<a href="#rosbag-visualization" class="hash-link" aria-label="Direct link to Rosbag Visualization" title="Direct link to Rosbag Visualization">​</a></h3>
<p>Visualizing the LiDAR point clouds provides insights into the sensor data and facilitates debugging.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-a-launch-file-for-visualization">Using a Launch File for Visualization<a href="#using-a-launch-file-for-visualization" class="hash-link" aria-label="Direct link to Using a Launch File for Visualization" title="Direct link to Using a Launch File for Visualization">​</a></h4>
<p>Instead of manually starting <code>roscore</code>, <code>rviz</code>, and <code>rosbag play</code>, utilize the provided launch file to execute these commands simultaneously.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="launch-file-start_rosbag_play_rvizlaunch">Launch File: <code>start_rosbag_play_rviz.launch</code><a href="#launch-file-start_rosbag_play_rvizlaunch" class="hash-link" aria-label="Direct link to launch-file-start_rosbag_play_rvizlaunch" title="Direct link to launch-file-start_rosbag_play_rvizlaunch">​</a></h5>
<p>Located in the <code>lidar_detection</code> package, this launch file orchestrates the playback of the bag file and the visualization in RViz.</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">launch</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Rosbag Playback --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">use_sim_time</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">true</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">node</span><span class="token tag" style="color:#00009f"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag attr-name" style="color:#00a4db">pkg</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">rosbag</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">play</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag attr-name" style="color:#00a4db">args</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">--clock -l -r 0.5 -d 1 /home/rosuser/bag/lidar_campus_melaten.bag</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">player</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag attr-name" style="color:#00a4db">output</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">screen</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">node</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- RViz Visualization --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">node</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">rviz</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">rviz</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag attr-name" style="color:#00a4db">pkg</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">rviz</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag attr-name" style="color:#00a4db">args</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">-d $(find lidar_detection)/rviz/point_cloud.rviz</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">node</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">launch</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>Parameters:</strong>
<ul>
<li><code>use_sim_time</code>: Synchronizes ROS time with simulation time.</li>
<li><code>rosbag play</code> arguments:<!-- -->
<ul>
<li><code>--clock</code>: Publishes simulated clock time.</li>
<li><code>-l</code>: Loops the bag file indefinitely.</li>
<li><code>-r 0.5</code>: Plays the bag file at half speed.</li>
<li><code>-d 1</code>: Delays the start by 1 second.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="launching-the-visualization">Launching the Visualization<a href="#launching-the-visualization" class="hash-link" aria-label="Direct link to Launching the Visualization" title="Direct link to Launching the Visualization">​</a></h4>
<p>Execute the launch file to start playback and visualization:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">roslaunch lidar_detection start_rosbag_play_rviz.launch</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="expected-rviz-window">Expected RViz Window:<a href="#expected-rviz-window" class="hash-link" aria-label="Direct link to Expected RViz Window:" title="Direct link to Expected RViz Window:">​</a></h4>
<p><img decoding="async" loading="lazy" alt="fag1" src="/Autonomous-Connected-Driving/assets/images/rviz-52e984e1783793cc0d2fc67a86d1f1fb.png" width="1634" height="881" class="img_ev3q"></p>
<ul>
<li><strong>PointCloud2 Display:</strong> Visualizes the raw LiDAR point clouds.</li>
<li><strong>Customization:</strong> Enhance visualization by adjusting settings such as <code>Size</code>, <code>Style</code>, <code>Decay Time</code>, and <code>Color Transformer</code> within the <code>PointCloud2</code> tab.</li>
</ul>
<p><em>Tip:</em> Modify RViz settings to improve clarity and highlight specific features of the point cloud data.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="lidar-detection">Lidar Detection<a href="#lidar-detection" class="hash-link" aria-label="Direct link to Lidar Detection" title="Direct link to Lidar Detection">​</a></h2>
<p>The <code>lidar_detection</code> ROS package facilitates the detection of 3D objects from raw LiDAR data. It leverages the <strong>PointPillars</strong> deep learning model to infer bounding boxes around detected objects, which are then published as <code>IkaObjectList</code> messages for further processing.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="package-structure">Package Structure<a href="#package-structure" class="hash-link" aria-label="Direct link to Package Structure" title="Direct link to Package Structure">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">section_2/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── lidar_detection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── CMakeLists.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── include</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── definitions.h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── detector.h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── lidar_detection.h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── list_creator.h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── pillar_utils.h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── launch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── static_params.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── start_all.launch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── start_lidar_detection.launch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── start_rosbag_play_rviz.launch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── lidar_detection.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── FrozenGraphs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │       └──lidar_detection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │           └──lidar_detection.pb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── nodelet_plugins.xml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── package.xml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── rviz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── point_cloud.rviz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ├── definitions.cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ├── detector.cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ├── lidar_detection.cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ├── list_creator.cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        └── pillar_utils.cpp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>Key Directories and Files:</strong>
<ul>
<li><code>include/</code>: Header files defining classes and utilities.</li>
<li><code>launch/</code>: ROS launch files for starting nodes and configurations.</li>
<li><code>model/</code>: Contains the PointPillars model configuration and frozen graph.</li>
<li><code>rviz/</code>: RViz configuration files.</li>
<li><code>src/</code>: Source code implementing detection algorithms and message handling.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="understanding-the-detection-pipeline">Understanding the Detection Pipeline<a href="#understanding-the-detection-pipeline" class="hash-link" aria-label="Direct link to Understanding the Detection Pipeline" title="Direct link to Understanding the Detection Pipeline">​</a></h3>
<ol>
<li>
<p><strong>Point Cloud Ingestion:</strong></p>
<ul>
<li>Raw LiDAR data is received from the <code>/points2</code> topic as <code>sensor_msgs/PointCloud2</code> messages.</li>
</ul>
</li>
<li>
<p><strong>PointPillars Inference:</strong></p>
<ul>
<li>The PointPillars deep neural network processes the point cloud to identify and classify objects.</li>
<li>Outputs include bounding boxes with associated class probabilities.</li>
</ul>
</li>
<li>
<p><strong>Bounding Box and Object List Creation:</strong></p>
<ul>
<li>Detected objects are encapsulated into <code>IkaObject</code> messages, detailing their state vectors and classifications.</li>
<li>These objects are aggregated into <code>IkaObjectList</code> messages for efficient transmission.</li>
</ul>
</li>
<li>
<p><strong>Visualization:</strong></p>
<ul>
<li>Detected objects are visualized in RViz with bounding boxes, color-coded by class type.</li>
</ul>
</li>
</ol>
<p><em>Note:</em> Detailed understanding of the PointPillars model is beyond the scope of this workshop. Interested participants are encouraged to refer to the original <a href="https://arxiv.org/abs/1812.05784" target="_blank" rel="noopener noreferrer">PointPillars paper</a> for in-depth knowledge.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="launching-the-detection-node">Launching the Detection Node<a href="#launching-the-detection-node" class="hash-link" aria-label="Direct link to Launching the Detection Node" title="Direct link to Launching the Detection Node">​</a></h3>
<p>To initiate the object detection process, execute the combined launch file that starts both the <code>rosbag play</code> and the <code>lidar_detection</code> nodes:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">roslaunch lidar_detection start_all.launch</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em>Note:</em> The bag file playback rate is set to <code>0.1</code> to accommodate the computational demands of the neural network inference. Depending on your system&#x27;s performance, you may adjust this rate for optimal processing.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="visualizing-detected-objects-in-rviz">Visualizing Detected Objects in RViz<a href="#visualizing-detected-objects-in-rviz" class="hash-link" aria-label="Direct link to Visualizing Detected Objects in RViz" title="Direct link to Visualizing Detected Objects in RViz">​</a></h3>
<p>Once the detection node is running, configure RViz to display the detected objects:</p>
<ol>
<li>
<p><strong>Add IkaObjectList Display:</strong></p>
<ul>
<li>Click on <strong>ADD</strong> in RViz.</li>
<li>Select <strong>By Topic</strong>.</li>
<li>Choose <code>/lidar_detection/object_list/IkaObjectList</code>.</li>
<li>Click <strong>OK</strong>.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="fag1" src="/Autonomous-Connected-Driving/assets/images/rviz_select-c33d091dbc6dd7315a69af14cb298ade.png" width="1633" height="883" class="img_ev3q"></p>
</li>
<li>
<p><strong>Resulting Visualization:</strong></p>
<ul>
<li>Detected objects are displayed with bounding boxes.</li>
<li>Objects are color-coded based on their classified type (e.g., cars, pedestrians).</li>
</ul>
<p><img decoding="async" loading="lazy" alt="fag1" src="/Autonomous-Connected-Driving/assets/images/task-5f84fb4de6f261bca99d7f389fefe1be.png" width="1633" height="881" class="img_ev3q"></p>
</li>
</ol>
<p><em>Issue Encountered:</em> Initially, bounding boxes may not align accurately, and all objects might be classified as <code>UNKNOWN</code>. These issues will be addressed in the subsequent tasks.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tasks">Tasks<a href="#tasks" class="hash-link" aria-label="Direct link to Tasks" title="Direct link to Tasks">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="task-1-correcting-bounding-box-dimensions-and-orientation">Task 1: Correcting Bounding Box Dimensions and Orientation<a href="#task-1-correcting-bounding-box-dimensions-and-orientation" class="hash-link" aria-label="Direct link to Task 1: Correcting Bounding Box Dimensions and Orientation" title="Direct link to Task 1: Correcting Bounding Box Dimensions and Orientation">​</a></h3>
<p><strong>Objective:</strong> Ensure that detected objects have accurate bounding box dimensions and correct heading angles by properly assigning values from the detection model to the <code>IkaObject</code> message.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="steps">Steps:<a href="#steps" class="hash-link" aria-label="Direct link to Steps:" title="Direct link to Steps:">​</a></h4>
<ol>
<li>
<p><strong>Navigate to <code>list_creator.cpp</code>:</strong></p>
<p>Open the <code>list_creator.cpp</code> file located in <code>~/ws/catkin_workspace/src/workshops/section_2/lidar_detection/src/</code>.</p>
</li>
<li>
<p><strong>Locate the Code Snippet:</strong></p>
<p>Identify the section responsible for setting the object position and dimensions:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// set object position</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fMean</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">definitions</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">ca_model</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">posX</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> bounding_box</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">center</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fMean</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">definitions</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">ca_model</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">posY</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> bounding_box</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">center</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// START TASK 1 CODE  </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// set object dimensions and fHeading</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fMean</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">definitions</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">ca_model</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">length</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fMean</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">definitions</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">ca_model</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">width</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fMean</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">definitions</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">ca_model</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">height</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// set yaw angle</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fMean</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">definitions</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">ca_model</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">heading</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// END TASK 1 CODE </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Understand the Variables:</strong></p>
<ul>
<li>
<p><strong><code>object</code>:</strong> Instance of <code>IkaObject.msg</code>.</p>
</li>
<li>
<p><strong><code>bounding_box</code>:</strong> Instance of <code>BoundingBoxCenter</code> struct defined in <code>definitions.h</code>:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">BoundingBoxCenter</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Eigen</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">Vector2d center</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> width</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> height</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> yaw</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> score</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> class_idx</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string class_name</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Issue:</strong> The bounding box dimensions (<code>length</code>, <code>width</code>, <code>height</code>) and the <code>heading</code> angle are hardcoded and do not reflect the values from <code>bounding_box</code>.</p>
</li>
</ul>
</li>
<li>
<p><strong>Implement the Corrections:</strong></p>
<p>Modify the code between the <code>// START TASK 1 CODE</code> and <code>// END TASK 1 CODE</code> comments to assign the correct values from <code>bounding_box</code>:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// START TASK 1 CODE  </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Set object dimensions and heading using bounding_box data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fMean</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">definitions</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">ca_model</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">length</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> bounding_box</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fMean</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">definitions</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">ca_model</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">width</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> bounding_box</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">width</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fMean</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">definitions</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">ca_model</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">height</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> bounding_box</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">height</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Set yaw angle from bounding_box</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fMean</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">definitions</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">ca_model</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">heading</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> bounding_box</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">yaw</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// END TASK 1 CODE </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Rebuild the <code>lidar_detection</code> Package:</strong></p>
<p>After saving the changes, execute the following commands to rebuild the package:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/catkin_workspace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">catkin build lidar_detection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source devel/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Launch the Detection Node:</strong></p>
<p>Restart the detection node to apply the changes:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">roslaunch lidar_detection start_all.launch</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Visualize the Updated Bounding Boxes:</strong></p>
<ul>
<li>If RViz is not already running, execute the launch file again.</li>
<li>Observe that the bounding boxes now reflect accurate dimensions and orientations based on the detection model&#x27;s output.</li>
</ul>
<p><em>Expected Visualization:</em></p>
<p><img decoding="async" loading="lazy" alt="fag1" src="/Autonomous-Connected-Driving/assets/images/result-046938243f7028666b2ec032d779a286.png" width="1633" height="879" class="img_ev3q"></p>
<p><em>Note:</em> The bounding boxes should align more accurately with the detected objects, and classes should start to populate correctly.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="task-2-assigning-correct-object-classes">Task 2: Assigning Correct Object Classes<a href="#task-2-assigning-correct-object-classes" class="hash-link" aria-label="Direct link to Task 2: Assigning Correct Object Classes" title="Direct link to Task 2: Assigning Correct Object Classes">​</a></h3>
<p><strong>Objective:</strong> Ensure that detected objects are correctly classified by assigning the appropriate <code>class_idx</code> based on the highest class probability from the detection model.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="steps-1">Steps:<a href="#steps-1" class="hash-link" aria-label="Direct link to Steps:" title="Direct link to Steps:">​</a></h4>
<ol>
<li>
<p><strong>Navigate to <code>detector.cpp</code>:</strong></p>
<p>Open the <code>detector.cpp</code> file located in <code>~/ws/catkin_workspace/src/workshops/section_2/lidar_detection/src/</code>.</p>
</li>
<li>
<p><strong>Locate the Code Snippet:</strong></p>
<p>Find the section marked for Task 2, responsible for determining the object&#x27;s class index:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// START TASK 2 CODE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> class_idx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// END TASK 2 CODE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Understand the Objective:</strong></p>
<p>The goal is to assign <code>class_idx</code> to the index of the class with the highest probability score from the detection model&#x27;s output.</p>
</li>
<li>
<p><strong>Implement the Class Index Assignment:</strong></p>
<p>Replace the placeholder code with logic that identifies the class with the maximum score using <code>std::max_element</code>. Here&#x27;s how to implement it:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// START TASK 2 CODE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Find the index of the class with the highest score</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">auto</span><span class="token plain"> max_it </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">max_element</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bounding_box</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">class_scores</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">begin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bounding_box</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">class_scores</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">end</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class_idx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">distance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bounding_box</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">class_scores</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">begin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> max_it</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// END TASK 2 CODE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>Explanation:</strong>
<ul>
<li><code>bounding_box.class_scores</code> is assumed to be a <code>std::vector&lt;float&gt;</code> containing the probability scores for each class.</li>
<li><code>std::max_element</code> locates the iterator pointing to the highest score.</li>
<li><code>std::distance</code> calculates the index of this maximum score, which corresponds to the <code>class_idx</code>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Rebuild the <code>lidar_detection</code> Package:</strong></p>
<p>After saving the changes, execute the following commands to rebuild the package:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/catkin_workspace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">catkin build lidar_detection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source devel/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Launch the Detection Node:</strong></p>
<p>Restart the detection node to apply the changes:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">roslaunch lidar_detection start_all.launch</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Visualize the Correctly Classified Objects:</strong></p>
<ul>
<li>If RViz is not already running, execute the launch file again.</li>
<li>Detected objects should now display their correct classifications (e.g., <code>CAR</code>, <code>PEDESTRIAN</code>, <code>TRUCK</code>, <code>BICYCLE</code>) instead of <code>UNKNOWN</code>.</li>
</ul>
<p><em>Expected Visualization:</em></p>
<p><img decoding="async" loading="lazy" alt="fag1" src="/Autonomous-Connected-Driving/assets/images/result-046938243f7028666b2ec032d779a286.png" width="1633" height="879" class="img_ev3q"></p>
<p><em>Observation:</em> Correct class assignments reduce false positives and enhance the overall detection performance.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="wrap-up">Wrap-up<a href="#wrap-up" class="hash-link" aria-label="Direct link to Wrap-up" title="Direct link to Wrap-up">​</a></h2>
<p>In this workshop, you have:</p>
<ul>
<li><strong>Explored 3D Object Detection Basics:</strong>
<ul>
<li>Understood how LiDAR data is utilized for object detection in ROS.</li>
</ul>
</li>
<li><strong>Mastered ROS Object Definitions:</strong>
<ul>
<li>Learned about <code>IkaObject.msg</code> and <code>IkaObjectList.msg</code> structures.</li>
</ul>
</li>
<li><strong>Visualized LiDAR Point Clouds:</strong>
<ul>
<li>Utilized RViz to display and interpret raw LiDAR point cloud data.</li>
</ul>
</li>
<li><strong>Launched and Operated ROS Nodes:</strong>
<ul>
<li>Executed ROS nodes for point cloud playback and object detection.</li>
</ul>
</li>
<li><strong>Visualized Detected Objects:</strong>
<ul>
<li>Configured RViz to display detected objects with accurate bounding boxes and classifications.</li>
</ul>
</li>
<li><strong>Enhanced Detection Accuracy:</strong>
<ul>
<li>Corrected bounding box dimensions and orientations.</li>
<li>Implemented class index assignment to ensure accurate object classifications.</li>
</ul>
</li>
</ul>
<p>These skills form the foundation for advanced perception tasks in autonomous systems, enabling vehicles to navigate safely and efficiently by accurately detecting and classifying surrounding objects.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2>
<ul>
<li>
<p><strong>PointPillars Paper:</strong> <a href="https://arxiv.org/abs/1812.05784" target="_blank" rel="noopener noreferrer">https://arxiv.org/abs/1812.05784</a></p>
<p>The original research paper detailing the PointPillars model used for efficient and accurate object detection in LiDAR point clouds.</p>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/task/02_sensor_data_processing/05_Object-Detection.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Autonomous-Connected-Driving/docs/task/sensor_data_processing/Localization"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Localization</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Autonomous-Connected-Driving/docs/task/sensor_data_processing/Semantic-Image-Segmentation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Semantic Image Segmentation Applied on Camera Images</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#learning-objectives" class="table-of-contents__link toc-highlight">Learning Objectives</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#setup-instructions" class="table-of-contents__link toc-highlight">Setup Instructions</a><ul><li><a href="#1-clone-the-repository-and-navigate-to-the-workspace" class="table-of-contents__link toc-highlight">1. Clone the Repository and Navigate to the Workspace</a></li><li><a href="#2-clone-the-necessary-packages" class="table-of-contents__link toc-highlight">2. Clone the Necessary Packages</a></li><li><a href="#3-download-the-required-bag-file" class="table-of-contents__link toc-highlight">3. Download the Required Bag File</a></li><li><a href="#4-build-the-workspace" class="table-of-contents__link toc-highlight">4. Build the Workspace</a></li><li><a href="#5-launch-the-ros-environment-with-rviz-and-rosbag" class="table-of-contents__link toc-highlight">5. Launch the ROS Environment with RViz and Rosbag</a></li></ul></li><li><a href="#definitions" class="table-of-contents__link toc-highlight">Definitions</a><ul><li><a href="#ros-object-definitions" class="table-of-contents__link toc-highlight">ROS Object Definitions</a></li></ul></li><li><a href="#measurement-data" class="table-of-contents__link toc-highlight">Measurement Data</a><ul><li><a href="#downloading-the-lidar-bag-file" class="table-of-contents__link toc-highlight">Downloading the LiDAR Bag File</a></li><li><a href="#rosbag-inspection" class="table-of-contents__link toc-highlight">Rosbag Inspection</a></li><li><a href="#rosbag-visualization" class="table-of-contents__link toc-highlight">Rosbag Visualization</a></li></ul></li><li><a href="#lidar-detection" class="table-of-contents__link toc-highlight">Lidar Detection</a><ul><li><a href="#package-structure" class="table-of-contents__link toc-highlight">Package Structure</a></li><li><a href="#understanding-the-detection-pipeline" class="table-of-contents__link toc-highlight">Understanding the Detection Pipeline</a></li><li><a href="#launching-the-detection-node" class="table-of-contents__link toc-highlight">Launching the Detection Node</a></li><li><a href="#visualizing-detected-objects-in-rviz" class="table-of-contents__link toc-highlight">Visualizing Detected Objects in RViz</a></li></ul></li><li><a href="#tasks" class="table-of-contents__link toc-highlight">Tasks</a><ul><li><a href="#task-1-correcting-bounding-box-dimensions-and-orientation" class="table-of-contents__link toc-highlight">Task 1: Correcting Bounding Box Dimensions and Orientation</a></li><li><a href="#task-2-assigning-correct-object-classes" class="table-of-contents__link toc-highlight">Task 2: Assigning Correct Object Classes</a></li></ul></li><li><a href="#wrap-up" class="table-of-contents__link toc-highlight">Wrap-up</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Coding</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Autonomous-Connected-Driving/docs/cpp/getting_started">C++</a></li><li class="footer__item"><a class="footer__link-item" href="/Autonomous-Connected-Driving/docs/python/getting_started">Python</a></li></ul></div><div class="col footer__col"><div class="footer__title">Robot Operating System</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Autonomous-Connected-Driving/docs/ros/getting_started">ROS</a></li><li class="footer__item"><a class="footer__link-item" href="/Autonomous-Connected-Driving/docs/ros2/getting_started">ROS2</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Autonomous-Connected-Driving/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/CagriCatik/Autonomous-Connected-Driving" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 - Automated and Connected Driving.</div></div></div></footer></div>
</body>
</html>