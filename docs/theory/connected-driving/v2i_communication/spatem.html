<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-theory/connected-driving/v2i_communication/spatem" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">SPAT and MAP Extended Messages in Connected Driving | Automated and Connected Driving</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://cagricatik.github.io/Autonomous-Connected-Driving/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://cagricatik.github.io/Autonomous-Connected-Driving/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://cagricatik.github.io/Autonomous-Connected-Driving/docs/theory/connected-driving/v2i_communication/spatem"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SPAT and MAP Extended Messages in Connected Driving | Automated and Connected Driving"><meta data-rh="true" name="description" content="In the rapidly evolving landscape of automated and connected driving, effective communication between vehicles and traffic infrastructure is paramount. Two pivotal components in this communication framework are the Signal Phase and Timing (SPAT) Extended Message and the MAP Extended Message. These messages enable seamless Vehicle-to-Infrastructure (V2I) interactions, which are essential for optimizing traffic flow, enhancing road safety, and paving the way for fully autonomous transportation systems."><meta data-rh="true" property="og:description" content="In the rapidly evolving landscape of automated and connected driving, effective communication between vehicles and traffic infrastructure is paramount. Two pivotal components in this communication framework are the Signal Phase and Timing (SPAT) Extended Message and the MAP Extended Message. These messages enable seamless Vehicle-to-Infrastructure (V2I) interactions, which are essential for optimizing traffic flow, enhancing road safety, and paving the way for fully autonomous transportation systems."><link data-rh="true" rel="icon" href="/Autonomous-Connected-Driving/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://cagricatik.github.io/Autonomous-Connected-Driving/docs/theory/connected-driving/v2i_communication/spatem"><link data-rh="true" rel="alternate" href="https://cagricatik.github.io/Autonomous-Connected-Driving/docs/theory/connected-driving/v2i_communication/spatem" hreflang="en"><link data-rh="true" rel="alternate" href="https://cagricatik.github.io/Autonomous-Connected-Driving/docs/theory/connected-driving/v2i_communication/spatem" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/Autonomous-Connected-Driving/blog/rss.xml" title="Automated and Connected Driving RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Autonomous-Connected-Driving/blog/atom.xml" title="Automated and Connected Driving Atom Feed"><link rel="stylesheet" href="/Autonomous-Connected-Driving/assets/css/styles.ce2d5abf.css">
<script src="/Autonomous-Connected-Driving/assets/js/runtime~main.68f5bbdc.js" defer="defer"></script>
<script src="/Autonomous-Connected-Driving/assets/js/main.d0864c25.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Autonomous-Connected-Driving/"><div class="navbar__logo"><img src="/Autonomous-Connected-Driving/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Autonomous-Connected-Driving/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/category/introduction">Introduction &amp; Tools</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/category/introduction-1">Sensor Data Processing</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/category/semantic-point-cloud">Object Fusion and Tracking</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/category/introduction-2">Vehicle Guidance</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Autonomous-Connected-Driving/docs/theory/connected-driving/introduction">Connected Driving</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/category/introduction--tools">Tasks</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/cpp/Introduction/syntax">C++</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/python/Intro">Python</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/ros/introduction">ROS</a><a class="navbar__item navbar__link" href="/Autonomous-Connected-Driving/docs/ros2/introduction">ROS2</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Autonomous-Connected-Driving/docs/theory/connected-driving/introduction">Introduction to Connected Driving</a><button aria-label="Expand sidebar category &#x27;Introduction to Connected Driving&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Autonomous-Connected-Driving/docs/theory/connected-driving/collective_cloud_functions/fundamentals">collective_cloud_functions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/Autonomous-Connected-Driving/docs/theory/connected-driving/v2i_communication/introduction">v2i_communication</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Autonomous-Connected-Driving/docs/theory/connected-driving/v2i_communication/introduction">Infrastructure-to-Vehicle Communication (I2V) Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Autonomous-Connected-Driving/docs/theory/connected-driving/v2i_communication/spatem">SPAT and MAP Extended Messages in Connected Driving</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Autonomous-Connected-Driving/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">v2i_communication</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">SPAT and MAP Extended Messages in Connected Driving</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SPAT and MAP Extended Messages in Connected Driving</h1></header>
<p>In the rapidly evolving landscape of automated and connected driving, effective communication between vehicles and traffic infrastructure is paramount. Two pivotal components in this communication framework are the <strong>Signal Phase and Timing (SPAT) Extended Message</strong> and the <strong>MAP Extended Message</strong>. These messages enable seamless Vehicle-to-Infrastructure (V2I) interactions, which are essential for optimizing traffic flow, enhancing road safety, and paving the way for fully autonomous transportation systems.</p>
<p>This documentation delves into the intricacies of SPAT and MAP Extended Messages, elucidating their purposes, features, and implementation strategies. It is tailored to serve both newcomers and seasoned professionals in the field of connected driving technologies.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview-of-spat-and-map-messages">Overview of SPAT and MAP Messages<a href="#overview-of-spat-and-map-messages" class="hash-link" aria-label="Direct link to Overview of SPAT and MAP Messages" title="Direct link to Overview of SPAT and MAP Messages">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="signal-phase-and-timing-spat-extended-message">Signal Phase and Timing (SPAT) Extended Message<a href="#signal-phase-and-timing-spat-extended-message" class="hash-link" aria-label="Direct link to Signal Phase and Timing (SPAT) Extended Message" title="Direct link to Signal Phase and Timing (SPAT) Extended Message">​</a></h3>
<p>The <strong>Signal Phase and Timing (SPAT) Extended Message</strong> is a dynamic communication protocol that conveys real-time and predictive information about the states of traffic signals at intersections. SPAT messages are instrumental in providing vehicles with up-to-date data on signal phases, durations, and transitions, facilitating informed decision-making for navigation and speed adjustments.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="map-extended-message">MAP Extended Message<a href="#map-extended-message" class="hash-link" aria-label="Direct link to MAP Extended Message" title="Direct link to MAP Extended Message">​</a></h3>
<p>The <strong>MAP Extended Message</strong> serves as a static reference framework that outlines the physical and logical layout of intersections. It details the topology, positions, and types of traffic signals, establishing a foundational map that SPAT messages can reference for dynamic updates.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-features-and-characteristics">Key Features and Characteristics<a href="#key-features-and-characteristics" class="hash-link" aria-label="Direct link to Key Features and Characteristics" title="Direct link to Key Features and Characteristics">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="spat-extended-message-features">SPAT Extended Message Features<a href="#spat-extended-message-features" class="hash-link" aria-label="Direct link to SPAT Extended Message Features" title="Direct link to SPAT Extended Message Features">​</a></h3>
<ul>
<li><strong>Real-Time Data Transmission</strong>: SPAT messages are updated frequently to reflect the current and anticipated states of traffic signals.</li>
<li><strong>Dynamic Payload Structure</strong>: Includes elements such as Intersection ID, Timestamp, Signal Groups, Signal States, and additional metadata.</li>
<li><strong>Safety-Critical Information</strong>: Provides essential data that directly influences vehicle behavior and safety mechanisms.</li>
<li><strong>High-Frequency Updates</strong>: Ensures that vehicles receive the latest signal information with minimal latency.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="map-extended-message-features">MAP Extended Message Features<a href="#map-extended-message-features" class="hash-link" aria-label="Direct link to MAP Extended Message Features" title="Direct link to MAP Extended Message Features">​</a></h3>
<ul>
<li><strong>Static Data Representation</strong>: MAP messages contain information that changes infrequently, such as intersection layouts and signal placements.</li>
<li><strong>Comprehensive Intersection Topology</strong>: Details the geometric configurations of intersections, including road layouts, signal positions, and lane configurations.</li>
<li><strong>Low-Frequency Broadcasting</strong>: Since the data is static, MAP messages are transmitted less frequently, optimizing bandwidth usage.</li>
<li><strong>Foundation for SPAT Messages</strong>: Provides the necessary spatial context that SPAT messages reference for dynamic updates.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="integration-and-complementarity">Integration and Complementarity<a href="#integration-and-complementarity" class="hash-link" aria-label="Direct link to Integration and Complementarity" title="Direct link to Integration and Complementarity">​</a></h2>
<p>SPAT and MAP Extended Messages are designed to work in tandem, each complementing the other&#x27;s strengths:</p>
<ul>
<li><strong>MAP as a Static Framework</strong>: Serves as a reliable baseline that defines the physical and logical structure of intersections.</li>
<li><strong>SPAT as a Dynamic Layer</strong>: Builds upon the MAP data by supplying real-time signal state information, enabling responsive and adaptive vehicle behavior.</li>
<li><strong>Synchronization for Consistency</strong>: Ensures that dynamic SPAT updates are accurately mapped onto the static intersection layouts defined by MAP messages, maintaining coherence in V2I communications.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-cases">Use Cases<a href="#use-cases" class="hash-link" aria-label="Direct link to Use Cases" title="Direct link to Use Cases">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-central-navigation-systems">1. Central Navigation Systems<a href="#1-central-navigation-systems" class="hash-link" aria-label="Direct link to 1. Central Navigation Systems" title="Direct link to 1. Central Navigation Systems">​</a></h3>
<p><strong>Applications</strong>: Navigation platforms like <strong>Google Maps</strong>, <strong>Apple Maps</strong>, and <strong>Waze</strong> integrate SPAT messages to enhance route planning and traffic management.</p>
<p><strong>Functionalities</strong>:</p>
<ul>
<li><strong>Predicting Traffic Light States</strong>: By accessing real-time signal phase data, navigation systems can anticipate red or green lights ahead.</li>
<li><strong>Optimizing Route Selection</strong>: Enables the calculation of routes that minimize stops at traffic signals, thereby reducing travel time and fuel consumption.</li>
<li><strong>Adaptive Traffic Flow Management</strong>: Helps in dynamically adjusting suggested routes based on current traffic signal patterns and congestion levels.</li>
</ul>
<p><strong>Example</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">optimize_route_with_spat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spat_data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> current_location</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> destination</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Analyze SPAT data to identify signal timings along the route</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Adjust route to minimize red light stops</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    optimized_route </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> calculate_optimal_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spat_data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> current_location</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> destination</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> optimized_route</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-motion-planning-in-autonomous-vehicles">2. Motion Planning in Autonomous Vehicles<a href="#2-motion-planning-in-autonomous-vehicles" class="hash-link" aria-label="Direct link to 2. Motion Planning in Autonomous Vehicles" title="Direct link to 2. Motion Planning in Autonomous Vehicles">​</a></h3>
<p><strong>Applications</strong>: Autonomous vehicle systems, such as those developed by <strong>Tesla</strong>, <strong>Waymo</strong>, and <strong>Audi</strong>, leverage SPAT data to refine motion planning algorithms.</p>
<p><strong>Functionalities</strong>:</p>
<ul>
<li><strong>Efficient Speed Profiling</strong>: Determines optimal speeds to approach intersections, reducing unnecessary acceleration and deceleration.</li>
<li><strong>Green Light Optimization</strong>: Utilizes SPAT information to align vehicle speed with green signal phases, minimizing stops.</li>
<li><strong>Enhanced Safety Mechanisms</strong>: Provides timely warnings and adjustments to vehicle behavior in response to changing signal states.</li>
</ul>
<p><strong>Example</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">AutonomousVehicle</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> spat_data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spat_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spat_data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">calculate_speed_profile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> intersection_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        spat_info </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spat_data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">intersection_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> spat_info</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            time_to_green </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spat_info</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;timing_likelyTime&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            optimal_speed </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">compute_speed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">time_to_green</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> optimal_speed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">default_speed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">compute_speed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Compute speed to reach intersection during green phase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">distance_to_intersection </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-details">Implementation Details<a href="#implementation-details" class="hash-link" aria-label="Direct link to Implementation Details" title="Direct link to Implementation Details">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="spat-message-attributes">SPAT Message Attributes<a href="#spat-message-attributes" class="hash-link" aria-label="Direct link to SPAT Message Attributes" title="Direct link to SPAT Message Attributes">​</a></h3>
<ul>
<li><strong>Intersection ID</strong>: Unique identifier for each intersection, ensuring precise data referencing.</li>
<li><strong>Timestamp</strong>: Denotes the exact time of message generation, critical for real-time accuracy.</li>
<li><strong>Signal Groups</strong>: Aggregates traffic signals that operate under the same control logic.</li>
<li><strong>Signal States</strong>:<!-- -->
<ul>
<li><strong>eventState</strong>: Current condition of the signal (e.g., <em>Stop-And-Remain</em>, <em>Protected-Movement-Allowed</em>).</li>
<li><strong>timing_likelyTime</strong>: Estimated duration before the signal state changes.</li>
</ul>
</li>
<li><strong>Additional Attributes</strong>: Includes metadata such as pedestrian signal states, traffic volume estimates, and emergency vehicle prioritizations.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="map-message-attributes">MAP Message Attributes<a href="#map-message-attributes" class="hash-link" aria-label="Direct link to MAP Message Attributes" title="Direct link to MAP Message Attributes">​</a></h3>
<ul>
<li><strong>Intersection Topology</strong>: Detailed geometric representation of intersections, including road configurations and lane allocations.</li>
<li><strong>Signal Positions</strong>: Precise locations of traffic signals relative to roads and lanes, facilitating accurate mapping.</li>
<li><strong>Road Attributes</strong>: Information about road types, speed limits, and lane directions.</li>
<li><strong>Connectivity Data</strong>: Links between intersections and road segments, enabling comprehensive navigation and routing.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-structures-and-code-examples">Data Structures and Code Examples<a href="#data-structures-and-code-examples" class="hash-link" aria-label="Direct link to Data Structures and Code Examples" title="Direct link to Data Structures and Code Examples">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="spat-extended-message-data-structure-python-like-pseudocode">SPAT Extended Message Data Structure (Python-like Pseudocode)<a href="#spat-extended-message-data-structure-python-like-pseudocode" class="hash-link" aria-label="Direct link to SPAT Extended Message Data Structure (Python-like Pseudocode)" title="Direct link to SPAT Extended Message Data Structure (Python-like Pseudocode)">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">SPATMessage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> intersection_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timestamp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> signal_groups</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> additional_attributes</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">intersection_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> intersection_id          </span><span class="token comment" style="color:#999988;font-style:italic"># Unique identifier</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timestamp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> timestamp                      </span><span class="token comment" style="color:#999988;font-style:italic"># Message generation time</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">signal_groups </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> signal_groups              </span><span class="token comment" style="color:#999988;font-style:italic"># List of SignalGroup instances</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">additional_attributes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> additional_attributes </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">SignalGroup</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> group_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> event_state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timing_likely_time</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pedestrian_state</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">group_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> group_id                        </span><span class="token comment" style="color:#999988;font-style:italic"># Identifier for the signal group</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">event_state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> event_state                  </span><span class="token comment" style="color:#999988;font-style:italic"># Current state (e.g., STOP, GO)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timing_likely_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> timing_likely_time    </span><span class="token comment" style="color:#999988;font-style:italic"># Predicted time for state change</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pedestrian_state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pedestrian_state        </span><span class="token comment" style="color:#999988;font-style:italic"># Optional pedestrian signal state</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="map-extended-message-data-structure-python-like-pseudocode">MAP Extended Message Data Structure (Python-like Pseudocode)<a href="#map-extended-message-data-structure-python-like-pseudocode" class="hash-link" aria-label="Direct link to MAP Extended Message Data Structure (Python-like Pseudocode)" title="Direct link to MAP Extended Message Data Structure (Python-like Pseudocode)">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MAPMessage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> intersection_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> geometry</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> signal_positions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> road_attributes</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> connectivity</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">intersection_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> intersection_id          </span><span class="token comment" style="color:#999988;font-style:italic"># Unique identifier</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">geometry </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> geometry                        </span><span class="token comment" style="color:#999988;font-style:italic"># Geometric layout data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">signal_positions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> signal_positions        </span><span class="token comment" style="color:#999988;font-style:italic"># Positions of traffic signals</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">road_attributes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> road_attributes          </span><span class="token comment" style="color:#999988;font-style:italic"># Road-related information</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connectivity </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> connectivity                </span><span class="token comment" style="color:#999988;font-style:italic"># Connectivity data with other intersections</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="practical-implementation-steps">Practical Implementation Steps<a href="#practical-implementation-steps" class="hash-link" aria-label="Direct link to Practical Implementation Steps" title="Direct link to Practical Implementation Steps">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-message-creation">1. Message Creation<a href="#1-message-creation" class="hash-link" aria-label="Direct link to 1. Message Creation" title="Direct link to 1. Message Creation">​</a></h3>
<p><strong>Objective</strong>: Define robust and scalable data structures for SPAT and MAP messages that accurately represent necessary information.</p>
<p><strong>Steps</strong>:</p>
<ul>
<li><strong>Identify Data Requirements</strong>: Determine the essential attributes and data points needed for both SPAT and MAP messages.</li>
<li><strong>Design Data Structures</strong>: Create classes or schemas that encapsulate the identified data requirements.</li>
<li><strong>Ensure Extensibility</strong>: Structure the messages to accommodate future enhancements or additional data without significant overhauls.</li>
</ul>
<p><strong>Example</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Creating a SPAT Message Instance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">signal_group1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SignalGroup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">group_id</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;SG1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> event_state</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Protected-Movement-Allowed&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timing_likely_time</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">signal_group2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SignalGroup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">group_id</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;SG2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> event_state</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Stop-And-Remain&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timing_likely_time</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spat_message </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SPATMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">intersection_id</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;INT123&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timestamp</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;2025-01-11T10:00:00Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> signal_groups</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">signal_group1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> signal_group2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-synchronization">2. Synchronization<a href="#2-synchronization" class="hash-link" aria-label="Direct link to 2. Synchronization" title="Direct link to 2. Synchronization">​</a></h3>
<p><strong>Objective</strong>: Ensure that the static MAP data and dynamic SPAT updates are consistently aligned to maintain accurate V2I communication.</p>
<p><strong>Steps</strong>:</p>
<ul>
<li><strong>Mapping Intersection IDs</strong>: Use consistent identifiers across both MAP and SPAT messages to link data accurately.</li>
<li><strong>Coordinate Spatial References</strong>: Align the geometric data in MAP messages with the dynamic signal states in SPAT messages.</li>
<li><strong>Implement Update Mechanisms</strong>: Develop protocols to handle updates in MAP data and propagate changes to corresponding SPAT references.</li>
</ul>
<p><strong>Example</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">synchronize_map_and_spat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">map_message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> spat_message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> map_message</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">intersection_id </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> spat_message</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">intersection_id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Align SPAT signal states with MAP signal positions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> spat_group </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> spat_message</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">signal_groups</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            corresponding_signal </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> map_message</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">signal_positions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spat_group</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">group_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> corresponding_signal</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                spat_group</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">position </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> corresponding_signal</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">position</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">raise</span><span class="token plain"> ValueError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Mismatch between MAP and SPAT Intersection IDs&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-testing-and-validation">3. Testing and Validation<a href="#3-testing-and-validation" class="hash-link" aria-label="Direct link to 3. Testing and Validation" title="Direct link to 3. Testing and Validation">​</a></h3>
<p><strong>Objective</strong>: Validate the correctness and reliability of SPAT and MAP message implementations through rigorous testing.</p>
<p><strong>Steps</strong>:</p>
<ul>
<li><strong>Simulate Traffic Scenarios</strong>: Create diverse traffic scenarios to assess how SPAT and MAP messages perform under various conditions.</li>
<li><strong>Validate Data Integrity</strong>: Ensure that messages accurately reflect intersection layouts and signal states without discrepancies.</li>
<li><strong>Performance Testing</strong>: Evaluate the system&#x27;s responsiveness and latency, particularly for high-frequency SPAT updates.</li>
<li><strong>Error Handling</strong>: Test the robustness of communication protocols in handling data loss, corruption, or delays.</li>
</ul>
<p><strong>Example</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">test_spat_message_accuracy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spat_message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> expected_state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> spat_message</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">signal_groups</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">event_state </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> expected_state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;SPAT Message State Mismatch&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">test_map_spat_synchronization</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">map_message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> spat_message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        synchronize_map_and_spat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">map_message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> spat_message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Synchronization Successful&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> ValueError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Synchronization Failed: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices-and-considerations">Best Practices and Considerations<a href="#best-practices-and-considerations" class="hash-link" aria-label="Direct link to Best Practices and Considerations" title="Direct link to Best Practices and Considerations">​</a></h2>
<ol>
<li><strong>Scalability</strong>: Design SPAT and MAP message systems to handle increasing numbers of intersections and vehicles without degradation in performance.</li>
<li><strong>Security</strong>: Implement robust encryption and authentication mechanisms to protect V2I communications from unauthorized access and cyber threats.</li>
<li><strong>Standards Compliance</strong>: Adhere to established standards (e.g., IEEE 1609) to ensure interoperability across different systems and manufacturers.</li>
<li><strong>Latency Minimization</strong>: Optimize communication protocols to reduce latency, especially for SPAT messages, to maintain real-time accuracy.</li>
<li><strong>Redundancy and Reliability</strong>: Incorporate redundancy in message broadcasting to enhance reliability and ensure continuous data availability.</li>
<li><strong>Data Validation</strong>: Implement strict data validation checks to maintain the integrity and consistency of SPAT and MAP messages.</li>
<li><strong>Future-Proofing</strong>: Anticipate future advancements and design message frameworks that can accommodate emerging technologies and requirements.</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>The integration of <strong>SPAT and MAP Extended Messages</strong> is a cornerstone in the advancement of connected and autonomous driving systems. By enabling precise and timely communication between vehicles and traffic infrastructure, these messages facilitate optimized traffic flow, enhance road safety, and contribute to the realization of fully autonomous transportation networks.</p>
<p>For developers and engineers, mastering the design, implementation, and deployment of SPAT and MAP messages is essential. It requires a deep understanding of both the static and dynamic aspects of traffic management, robust synchronization mechanisms, and adherence to industry standards. As the automotive industry continues to innovate towards more sophisticated mobility solutions, the role of SPAT and MAP messages will only become more critical in shaping the future of transportation.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2>
<ol>
<li><strong>IEEE 1609 Standards</strong>: Specifications for Wireless Access in Vehicular Environments (WAVE).</li>
<li><strong>SAE J2735</strong>: Standards for Dedicated Short Range Communications (DSRC) messages, including SPAT and MAP.</li>
<li><strong>NHTSA (National Highway Traffic Safety Administration)</strong>: Guidelines on V2I communication protocols.</li>
<li><strong>OpenDSRC</strong>: Open-source software stack for DSRC communications.</li>
<li><strong>Research Papers</strong>:<!-- -->
<ul>
<li>&quot;Vehicle-to-Infrastructure Communication Protocols for Smart Transportation Systems&quot; – Journal of Intelligent Transportation Systems.</li>
<li>&quot;Enhancing Autonomous Vehicle Navigation with SPAT and MAP Data Integration&quot; – International Conference on Autonomous Driving.</li>
</ul>
</li>
<li><strong>Developer Documentation</strong>:<!-- -->
<ul>
<li>Google Maps API Documentation for Traffic Data Integration.</li>
<li>Audi&#x27;s Green Light Optimized Speed Advisory (GLOSA) Implementation Guide.</li>
</ul>
</li>
</ol>
<hr></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/theory/connected-driving/03_v2i_communication/02_spatem.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Autonomous-Connected-Driving/docs/theory/connected-driving/v2i_communication/introduction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Infrastructure-to-Vehicle Communication (I2V) Documentation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview-of-spat-and-map-messages" class="table-of-contents__link toc-highlight">Overview of SPAT and MAP Messages</a><ul><li><a href="#signal-phase-and-timing-spat-extended-message" class="table-of-contents__link toc-highlight">Signal Phase and Timing (SPAT) Extended Message</a></li><li><a href="#map-extended-message" class="table-of-contents__link toc-highlight">MAP Extended Message</a></li></ul></li><li><a href="#key-features-and-characteristics" class="table-of-contents__link toc-highlight">Key Features and Characteristics</a><ul><li><a href="#spat-extended-message-features" class="table-of-contents__link toc-highlight">SPAT Extended Message Features</a></li><li><a href="#map-extended-message-features" class="table-of-contents__link toc-highlight">MAP Extended Message Features</a></li></ul></li><li><a href="#integration-and-complementarity" class="table-of-contents__link toc-highlight">Integration and Complementarity</a></li><li><a href="#use-cases" class="table-of-contents__link toc-highlight">Use Cases</a><ul><li><a href="#1-central-navigation-systems" class="table-of-contents__link toc-highlight">1. Central Navigation Systems</a></li><li><a href="#2-motion-planning-in-autonomous-vehicles" class="table-of-contents__link toc-highlight">2. Motion Planning in Autonomous Vehicles</a></li></ul></li><li><a href="#implementation-details" class="table-of-contents__link toc-highlight">Implementation Details</a><ul><li><a href="#spat-message-attributes" class="table-of-contents__link toc-highlight">SPAT Message Attributes</a></li><li><a href="#map-message-attributes" class="table-of-contents__link toc-highlight">MAP Message Attributes</a></li><li><a href="#data-structures-and-code-examples" class="table-of-contents__link toc-highlight">Data Structures and Code Examples</a></li></ul></li><li><a href="#practical-implementation-steps" class="table-of-contents__link toc-highlight">Practical Implementation Steps</a><ul><li><a href="#1-message-creation" class="table-of-contents__link toc-highlight">1. Message Creation</a></li><li><a href="#2-synchronization" class="table-of-contents__link toc-highlight">2. Synchronization</a></li><li><a href="#3-testing-and-validation" class="table-of-contents__link toc-highlight">3. Testing and Validation</a></li></ul></li><li><a href="#best-practices-and-considerations" class="table-of-contents__link toc-highlight">Best Practices and Considerations</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Coding</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Autonomous-Connected-Driving/docs/cpp/content">C++</a></li><li class="footer__item"><a class="footer__link-item" href="/Autonomous-Connected-Driving/docs/python/content">Python</a></li></ul></div><div class="col footer__col"><div class="footer__title">Robot Operating System</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Autonomous-Connected-Driving/docs/ros/content">ROS</a></li><li class="footer__item"><a class="footer__link-item" href="/Autonomous-Connected-Driving/docs/ros2/content">ROS2</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Autonomous-Connected-Driving/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/CagriCatik/Autonomous-Connected-Driving" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 - Automated and Connected Driving.</div></div></div></footer></div>
</body>
</html>