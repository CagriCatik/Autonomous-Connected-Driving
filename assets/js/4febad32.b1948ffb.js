"use strict";(self.webpackChunkacd=self.webpackChunkacd||[]).push([[7428],{9193:(s,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>l,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"theory/object-fusion-tracking/object_association","title":"Object Association","description":"Object association plays a pivotal role in multi-sensor data fusion, especially when integrating outputs from diverse sensor systems into a cohesive representation within robotic applications. Utilizing frameworks like the Robot Operating System (ROS), object association ensures that data from various sensors is accurately merged to form a unified understanding of the environment. This guide delves into object association within the Kalman filter framework, emphasizing two primary methodologies: Intersection over Union (IoU) and Mahalanobis Distance. Both techniques are essential for linking sensor-level objects with global-level objects, thereby facilitating precise and consistent data fusion.","source":"@site/docs/theory/object-fusion-tracking/04_object_association.md","sourceDirName":"theory/object-fusion-tracking","slug":"/theory/object-fusion-tracking/object_association","permalink":"/Autonomous-Connected-Driving/docs/theory/object-fusion-tracking/object_association","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/theory/object-fusion-tracking/04_object_association.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{},"sidebar":"objectSidebar","previous":{"title":"Object Prediction","permalink":"/Autonomous-Connected-Driving/docs/theory/object-fusion-tracking/object_prediction"},"next":{"title":"Object Fusion","permalink":"/Autonomous-Connected-Driving/docs/theory/object-fusion-tracking/object_fusion"}}');var i=n(4848),t=n(8453);const l={},r="Object Association",c={},o=[{value:"Context",id:"context",level:2},{value:"Object Association Approaches",id:"object-association-approaches",level:2},{value:"1. Intersection over Union (IoU)",id:"1-intersection-over-union-iou",level:3},{value:"Definition",id:"definition",level:4},{value:"Assumptions",id:"assumptions",level:4},{value:"Formula",id:"formula",level:4},{value:"Procedure",id:"procedure",level:4},{value:"Example",id:"example",level:4},{value:"2. Mahalanobis Distance",id:"2-mahalanobis-distance",level:3},{value:"Definition",id:"definition-1",level:4},{value:"Advantages",id:"advantages",level:4},{value:"Formula",id:"formula-1",level:4},{value:"Procedure",id:"procedure-1",level:4},{value:"Example",id:"example-1",level:4},{value:"Implementation in ROS",id:"implementation-in-ros",level:2},{value:"1. Setup",id:"1-setup",level:3},{value:"2. Steps",id:"2-steps",level:3},{value:"3. Code Snippets",id:"3-code-snippets",level:3},{value:"IoU Calculation in Python",id:"iou-calculation-in-python",level:4},{value:"Mahalanobis Distance in Python",id:"mahalanobis-distance-in-python",level:4},{value:"4. Integration Example",id:"4-integration-example",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Conclusion",id:"conclusion",level:2}];function h(s){const e={annotation:"annotation",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",mtext:"mtext",ol:"ol",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,t.R)(),...s.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"object-association",children:"Object Association"})}),"\n",(0,i.jsxs)(e.p,{children:["Object association plays a pivotal role in multi-sensor data fusion, especially when integrating outputs from diverse sensor systems into a cohesive representation within robotic applications. Utilizing frameworks like the Robot Operating System (ROS), object association ensures that data from various sensors is accurately merged to form a unified understanding of the environment. This guide delves into object association within the Kalman filter framework, emphasizing two primary methodologies: ",(0,i.jsx)(e.strong,{children:"Intersection over Union (IoU)"})," and ",(0,i.jsx)(e.strong,{children:"Mahalanobis Distance"}),". Both techniques are essential for linking sensor-level objects with global-level objects, thereby facilitating precise and consistent data fusion."]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"context",children:"Context"}),"\n",(0,i.jsx)(e.p,{children:"In a multi-sensor fusion pipeline, object association is a crucial step that follows temporal alignment. The typical stages are:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Temporal Alignment"}),": Synchronizing objects detected by different sensors to the same temporal frame."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Object Association"}),": Establishing correspondences between sensor-level objects and global-level objects, which is essential for accurately fusing sensor data into global states."]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["This guide focuses on the ",(0,i.jsx)(e.strong,{children:"Object Association"})," phase, exploring methodologies to effectively link detections from multiple sensors within the Kalman filter framework."]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"object-association-approaches",children:"Object Association Approaches"}),"\n",(0,i.jsxs)(e.p,{children:["Object association ensures that detections from various sensors correspond to the same physical object in the environment. This correspondence is vital for accurate state estimation and data fusion. Two primary methods are explored here: ",(0,i.jsx)(e.strong,{children:"Intersection over Union (IoU)"})," and ",(0,i.jsx)(e.strong,{children:"Mahalanobis Distance"}),"."]}),"\n",(0,i.jsx)(e.h3,{id:"1-intersection-over-union-iou",children:"1. Intersection over Union (IoU)"}),"\n",(0,i.jsx)(e.h4,{id:"definition",children:"Definition"}),"\n",(0,i.jsx)(e.p,{children:"Intersection over Union (IoU) is a metric widely used in object detection to quantify the overlap between two bounding boxes. In the context of object association, IoU measures the spatial overlap between sensor-detected objects and global objects to determine their correspondence."}),"\n",(0,i.jsx)(e.h4,{id:"assumptions",children:"Assumptions"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Objects are represented as rectangular bounding boxes."}),"\n",(0,i.jsx)(e.li,{children:"Bounding boxes are axis-aligned (i.e., orientations are aligned)."}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"formula",children:"Formula"}),"\n",(0,i.jsx)(e.span,{className:"katex-error",title:"ParseError: KaTeX parse error: Can't use function '\\]' in math mode at position 74: \u2026rea of Union}}\n\\\u0332]\u0332",style:{color:"#cc0000"},children:"\\[\n\\text{IoU} = \\frac{\\text{Area of Intersection}}{\\text{Area of Union}}\n\\]"}),"\n",(0,i.jsx)(e.h4,{id:"procedure",children:"Procedure"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Compute Intersection and Union"}),": Determine the overlapping area between the two bounding boxes (Intersection) and the total area covered by both boxes (Union)."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Calculate IoU"}),": Divide the area of intersection by the area of union."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Decision Making"}),":","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["If ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mtext,{children:"IoU"}),(0,i.jsx)(e.mo,{children:">"}),(0,i.jsx)(e.mi,{children:"K"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\text{IoU} > K"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.7224em",verticalAlign:"-0.0391em"}}),(0,i.jsx)(e.span,{className:"mord text",children:(0,i.jsx)(e.span,{className:"mord",children:"IoU"})}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(e.span,{className:"mrel",children:">"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"K"})]})]})]})," (a predefined threshold), the objects are considered associated."]}),"\n",(0,i.jsxs)(e.li,{children:["If ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mtext,{children:"IoU"}),(0,i.jsx)(e.mo,{children:"\u2264"}),(0,i.jsx)(e.mi,{children:"K"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\text{IoU} \\leq K"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.8193em",verticalAlign:"-0.136em"}}),(0,i.jsx)(e.span,{className:"mord text",children:(0,i.jsx)(e.span,{className:"mord",children:"IoU"})}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(e.span,{className:"mrel",children:"\u2264"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"K"})]})]})]}),", the objects are not linked."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"example",children:"Example"}),"\n",(0,i.jsx)(e.p,{children:"Consider two bounding boxes:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Box A"}),": ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsx)(e.mn,{children:"1"})]}),(0,i.jsx)(e.mo,{separator:"true",children:","}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"y"}),(0,i.jsx)(e.mn,{children:"1"})]}),(0,i.jsx)(e.mo,{separator:"true",children:","}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"w"}),(0,i.jsx)(e.mn,{children:"1"})]}),(0,i.jsx)(e.mo,{separator:"true",children:","}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"h"}),(0,i.jsx)(e.mn,{children:"1"})]}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"(x_1, y_1, w_1, h_1)"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"1"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mpunct",children:","}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"1"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mpunct",children:","}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"},children:"w"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0269em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"1"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mpunct",children:","}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"h"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"1"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mclose",children:")"})]})})]})]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Box B"}),": ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsx)(e.mn,{children:"2"})]}),(0,i.jsx)(e.mo,{separator:"true",children:","}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"y"}),(0,i.jsx)(e.mn,{children:"2"})]}),(0,i.jsx)(e.mo,{separator:"true",children:","}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"w"}),(0,i.jsx)(e.mn,{children:"2"})]}),(0,i.jsx)(e.mo,{separator:"true",children:","}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"h"}),(0,i.jsx)(e.mn,{children:"2"})]}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"(x_2, y_2, w_2, h_2)"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"2"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mpunct",children:","}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"2"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mpunct",children:","}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"},children:"w"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0269em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"2"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mpunct",children:","}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"h"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"2"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mclose",children:")"})]})})]})]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["By calculating the coordinates of the intersection and union areas, we can determine their IoU and decide whether to associate them based on the threshold ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsx)(e.mi,{children:"K"})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"K"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"K"})]})})]}),"."]}),"\n",(0,i.jsx)(e.h3,{id:"2-mahalanobis-distance",children:"2. Mahalanobis Distance"}),"\n",(0,i.jsx)(e.h4,{id:"definition-1",children:"Definition"}),"\n",(0,i.jsx)(e.p,{children:"Mahalanobis Distance is a statistical measure that accounts for the correlations and variances of data, making it robust for associating objects with high uncertainty. It is particularly effective in scenarios where different sensors exhibit varying error characteristics in the x and y directions."}),"\n",(0,i.jsx)(e.h4,{id:"advantages",children:"Advantages"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Robustness to Uncertainty"}),": Considers the covariance of the data, making it suitable for measurements with different levels of uncertainty."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Adaptability"}),": Can handle varying error variances, enhancing association accuracy in complex environments."]}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"formula-1",children:"Formula"}),"\n",(0,i.jsx)(e.span,{className:"katex-error",title:"ParseError: KaTeX parse error: Can't use function '\\]' in math mode at position 75: \u2026ta \\mathbf{x}}\n\\\u0332]\u0332",style:{color:"#cc0000"},children:"\\[\nd_{G,S} = \\sqrt{\\Delta \\mathbf{x}^T \\mathbf{S}^{-1} \\Delta \\mathbf{x}}\n\\]"}),"\n",(0,i.jsx)(e.p,{children:"Where:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{mathvariant:"normal",children:"\u0394"}),(0,i.jsx)(e.mi,{mathvariant:"bold",children:"x"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\Delta \\mathbf{x}"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,i.jsx)(e.span,{className:"mord",children:"\u0394"}),(0,i.jsx)(e.span,{className:"mord mathbf",children:"x"})]})})]}),": Difference between the global state vector and the sensor state vector."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsx)(e.mi,{mathvariant:"bold",children:"S"})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\mathbf{S}"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6861em"}}),(0,i.jsx)(e.span,{className:"mord mathbf",children:"S"})]})})]}),": Covariance matrix mapped onto the x-y plane."]}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"procedure-1",children:"Procedure"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Compute Difference"}),": Calculate ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{mathvariant:"normal",children:"\u0394"}),(0,i.jsx)(e.mi,{mathvariant:"bold",children:"x"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\Delta \\mathbf{x}"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,i.jsx)(e.span,{className:"mord",children:"\u0394"}),(0,i.jsx)(e.span,{className:"mord mathbf",children:"x"})]})})]})," by projecting both the global state and sensor state vectors onto the x-y plane using a projection matrix ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsx)(e.mi,{mathvariant:"bold",children:"H"})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\mathbf{H}"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6861em"}}),(0,i.jsx)(e.span,{className:"mord mathbf",children:"H"})]})})]}),"."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Normalize Difference"}),": Divide ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{mathvariant:"normal",children:"\u0394"}),(0,i.jsx)(e.mi,{mathvariant:"bold",children:"x"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\Delta \\mathbf{x}"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,i.jsx)(e.span,{className:"mord",children:"\u0394"}),(0,i.jsx)(e.span,{className:"mord mathbf",children:"x"})]})})]})," by the covariance matrix ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsx)(e.mi,{mathvariant:"bold",children:"S"})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\mathbf{S}"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6861em"}}),(0,i.jsx)(e.span,{className:"mord mathbf",children:"S"})]})})]}),"."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Calculate Distance"}),": Compute ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"d"}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"G"}),(0,i.jsx)(e.mo,{separator:"true",children:","}),(0,i.jsx)(e.mi,{children:"S"})]})]})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"d_{G,S}"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.9805em",verticalAlign:"-0.2861em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"d"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3283em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"G"}),(0,i.jsx)(e.span,{className:"mpunct mtight",children:","}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05764em"},children:"S"})]})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2861em"},children:(0,i.jsx)(e.span,{})})})]})})]})]})})]})," as the square root of the resulting value."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Decision Making"}),":","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["If ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"d"}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"G"}),(0,i.jsx)(e.mo,{separator:"true",children:","}),(0,i.jsx)(e.mi,{children:"S"})]})]}),(0,i.jsx)(e.mo,{children:"<"}),(0,i.jsx)(e.mi,{children:"K"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"d_{G,S} < K"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.9805em",verticalAlign:"-0.2861em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"d"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3283em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"G"}),(0,i.jsx)(e.span,{className:"mpunct mtight",children:","}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05764em"},children:"S"})]})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2861em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(e.span,{className:"mrel",children:"<"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"K"})]})]})]})," (a predefined threshold), the objects are associated."]}),"\n",(0,i.jsx)(e.li,{children:"Otherwise, they are not linked."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"example-1",children:"Example"}),"\n",(0,i.jsx)(e.p,{children:"Given a global object state and a sensor-detected object state with their respective covariance matrices, Mahalanobis Distance can quantify the similarity between them, facilitating accurate association even in the presence of significant measurement uncertainties."}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"implementation-in-ros",children:"Implementation in ROS"}),"\n",(0,i.jsx)(e.p,{children:"Implementing object association within ROS involves integrating the IoU and Mahalanobis Distance methods into the existing Kalman filter node. This section outlines the setup, steps, and provides code snippets for both methods."}),"\n",(0,i.jsx)(e.h3,{id:"1-setup",children:"1. Setup"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"ROS Version"}),": Use ",(0,i.jsx)(e.strong,{children:"ROS2"})," for its improved performance and features. However, ROS1 can also be used if necessary."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Programming Language"}),":","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Python"}),": Ideal for rapid prototyping and ease of use."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"C++"}),": Suitable for optimized computation and performance-critical applications."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Ensure that the development environment is properly set up with ROS2 or ROS1 installed, and that the necessary dependencies for Python or C++ development are in place."}),"\n",(0,i.jsx)(e.h3,{id:"2-steps",children:"2. Steps"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Implement IoU and Mahalanobis Distance Calculations"}),":","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Develop separate modules or functions for each method to maintain modularity and ease of maintenance."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Integrate with Kalman Filter Node"}),":","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Incorporate the association modules into the existing Kalman filter node to enable real-time data fusion based on object associations."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsxs)(e.strong,{children:["Define Thresholds (",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsx)(e.mi,{children:"K"})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"K"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"K"})]})})]}),")"]}),":","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Determine appropriate threshold values for both IoU and Mahalanobis Distance based on the specific application requirements and sensor characteristics."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Testing and Validation"}),":","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Rigorously test the implementation using simulated and real-world data to ensure accurate associations and system robustness."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"3-code-snippets",children:"3. Code Snippets"}),"\n",(0,i.jsx)(e.p,{children:"Below are Python implementations for both IoU and Mahalanobis Distance calculations."}),"\n",(0,i.jsx)(e.h4,{id:"iou-calculation-in-python",children:"IoU Calculation in Python"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'def compute_iou(box1, box2):\n    """\n    Compute the Intersection over Union (IoU) of two bounding boxes.\n\n    Parameters:\n    - box1: Tuple or list with coordinates (x, y, width, height)\n    - box2: Tuple or list with coordinates (x, y, width, height)\n\n    Returns:\n    - iou: Float representing the IoU value\n    """\n    # Extract coordinates\n    x1, y1, w1, h1 = box1\n    x2, y2, w2, h2 = box2\n\n    # Compute the (x, y)-coordinates of the intersection rectangle\n    xi1 = max(x1, x2)\n    yi1 = max(y1, y2)\n    xi2 = min(x1 + w1, x2 + w2)\n    yi2 = min(y1 + h1, y2 + h2)\n\n    # Compute width and height of the intersection rectangle\n    inter_width = max(0, xi2 - xi1)\n    inter_height = max(0, yi2 - yi1)\n\n    # Compute the area of intersection\n    intersection = inter_width * inter_height\n\n    # Compute the area of both bounding boxes\n    area_box1 = w1 * h1\n    area_box2 = w2 * h2\n\n    # Compute the area of union\n    union = area_box1 + area_box2 - intersection\n\n    # Avoid division by zero\n    if union == 0:\n        return 0.0\n\n    # Compute IoU\n    iou = intersection / union\n    return iou\n'})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Usage Example"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'box_a = (50, 50, 100, 150)  # (x, y, width, height)\nbox_b = (60, 60, 100, 150)\niou_value = compute_iou(box_a, box_b)\nprint(f"IoU: {iou_value:.2f}")\n'})}),"\n",(0,i.jsx)(e.h4,{id:"mahalanobis-distance-in-python",children:"Mahalanobis Distance in Python"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'import numpy as np\n\ndef mahalanobis_distance(x_global, x_sensor, cov_matrix):\n    """\n    Compute the Mahalanobis Distance between global and sensor state vectors.\n\n    Parameters:\n    - x_global: Numpy array representing the global state vector\n    - x_sensor: Numpy array representing the sensor state vector\n    - cov_matrix: Numpy array representing the covariance matrix\n\n    Returns:\n    - distance: Float representing the Mahalanobis Distance\n    """\n    # Compute the difference vector\n    delta = np.subtract(x_global, x_sensor)\n\n    try:\n        # Compute the inverse of the covariance matrix\n        inv_cov = np.linalg.inv(cov_matrix)\n    except np.linalg.LinAlgError:\n        # Handle singular covariance matrix\n        raise ValueError("Covariance matrix is singular and cannot be inverted.")\n\n    # Compute the Mahalanobis Distance\n    distance = np.sqrt(np.dot(np.dot(delta.T, inv_cov), delta))\n    return distance\n'})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Usage Example"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'# Define global and sensor state vectors\nx_global = np.array([10.0, 20.0])\nx_sensor = np.array([12.0, 18.0])\n\n# Define the covariance matrix\ncov_matrix = np.array([[4.0, 0.0],\n                       [0.0, 9.0]])\n\ndistance = mahalanobis_distance(x_global, x_sensor, cov_matrix)\nprint(f"Mahalanobis Distance: {distance:.2f}")\n'})}),"\n",(0,i.jsx)(e.h3,{id:"4-integration-example",children:"4. Integration Example"}),"\n",(0,i.jsx)(e.p,{children:"Below is an example of how to integrate both IoU and Mahalanobis Distance into a ROS2 node for object association."}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import BoundingBox  # Example message type\nimport numpy as np\n\nclass ObjectAssociationNode(Node):\n    def __init__(self):\n        super().__init__('object_association_node')\n        self.subscription = self.create_subscription(\n            BoundingBox,\n            'sensor_objects',\n            self.listener_callback,\n            10)\n        self.global_objects = []  # List of global objects with states and covariances\n        self.iou_threshold = 0.5\n        self.mahalanobis_threshold = 3.0\n\n    def listener_callback(self, msg):\n        sensor_box = (msg.x, msg.y, msg.width, msg.height)\n        sensor_state = np.array([msg.x, msg.y])\n        sensor_cov = np.array([[msg.cov_x, 0],\n                               [0, msg.cov_y]])\n\n        associated = False\n        for global_obj in self.global_objects:\n            global_box = global_obj['box']\n            global_state = global_obj['state']\n            global_cov = global_obj['covariance']\n\n            # Compute IoU\n            iou = compute_iou(sensor_box, global_box)\n            if iou > self.iou_threshold:\n                self.associate_objects(sensor_state, global_state, sensor_cov, global_cov)\n                associated = True\n                break\n\n            # Compute Mahalanobis Distance\n            distance = mahalanobis_distance(global_state, sensor_state, global_cov)\n            if distance < self.mahalanobis_threshold:\n                self.associate_objects(sensor_state, global_state, sensor_cov, global_cov)\n                associated = True\n                break\n\n        if not associated:\n            # Initialize new global object\n            new_obj = {\n                'box': sensor_box,\n                'state': sensor_state,\n                'covariance': sensor_cov\n            }\n            self.global_objects.append(new_obj)\n            self.get_logger().info('New object initialized.')\n\n    def associate_objects(self, sensor_state, global_state, sensor_cov, global_cov):\n        # Example Kalman Filter update (simplified)\n        # Compute Kalman Gain\n        S = global_cov + sensor_cov\n        K = global_cov @ np.linalg.inv(S)\n\n        # Update state\n        updated_state = global_state + K @ (sensor_state - global_state)\n\n        # Update covariance\n        updated_cov = (np.eye(len(K)) - K) @ global_cov\n\n        # Update global object\n        global_state[:] = updated_state\n        global_cov[:] = updated_cov\n\n        self.get_logger().info('Object associated and updated.')\n\ndef compute_iou(box1, box2):\n    # [Implementation as above]\n    x1, y1, w1, h1 = box1\n    x2, y2, w2, h2 = box2\n\n    xi1 = max(x1, x2)\n    yi1 = max(y1, y2)\n    xi2 = min(x1 + w1, x2 + w2)\n    yi2 = min(y1 + h1, y2 + h2)\n\n    inter_width = max(0, xi2 - xi1)\n    inter_height = max(0, yi2 - yi1)\n\n    intersection = inter_width * inter_height\n    union = w1 * h1 + w2 * h2 - intersection\n\n    if union == 0:\n        return 0.0\n\n    return intersection / union\n\ndef mahalanobis_distance(x_global, x_sensor, cov_matrix):\n    delta = np.subtract(x_global, x_sensor)\n    try:\n        inv_cov = np.linalg.inv(cov_matrix)\n    except np.linalg.LinAlgError:\n        raise ValueError(\"Covariance matrix is singular and cannot be inverted.\")\n    distance = np.sqrt(np.dot(np.dot(delta.T, inv_cov), delta))\n    return distance\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = ObjectAssociationNode()\n    rclpy.spin(node)\n    node.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Explanation"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"ObjectAssociationNode"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Subscribes to a topic (",(0,i.jsx)(e.code,{children:"sensor_objects"}),") publishing sensor-detected bounding boxes."]}),"\n",(0,i.jsx)(e.li,{children:"Maintains a list of global objects, each with its bounding box, state vector, and covariance matrix."}),"\n",(0,i.jsx)(e.li,{children:"For each incoming sensor detection, it attempts to associate it with existing global objects using IoU and Mahalanobis Distance."}),"\n",(0,i.jsx)(e.li,{children:"If an association is found, it updates the global object's state and covariance using a simplified Kalman Filter update."}),"\n",(0,i.jsx)(e.li,{children:"If no association is found, it initializes a new global object."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Functions"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"compute_iou"}),": Calculates the IoU between two bounding boxes."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"mahalanobis_distance"}),": Computes the Mahalanobis Distance between two state vectors considering their covariance."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Threshold Optimization"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Objective"}),": Fine-tune the thresholds ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsx)(e.mi,{children:"K"})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"K"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"K"})]})})]})," for both IoU and Mahalanobis Distance to achieve an optimal balance between precision and recall."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Approach"}),": Conduct experiments using labeled datasets to determine the threshold values that maximize association accuracy."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Integration with Fusion Strategies"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Objective"}),": Enhance the association logic by integrating it with advanced fusion strategies."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Techniques"}),":","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Weighted Averages"}),": Combine sensor data based on the reliability of each sensor."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Advanced Kalman Filters"}),": Utilize variants like the Extended Kalman Filter (EKF) or Unscented Kalman Filter (UKF) for non-linear systems."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Probabilistic Data Association"}),": Implement methods that account for the probability of associations, especially in cluttered environments."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Scalability and Performance Optimization"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Objective"}),": Ensure that the association mechanisms perform efficiently in real-time applications with multiple sensors and high object counts."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Strategies"}),":","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Optimize code for performance, possibly by leveraging parallel processing or more efficient algorithms."}),"\n",(0,i.jsx)(e.li,{children:"Implement data structures that facilitate faster lookups and associations."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Robustness Enhancements"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Objective"}),": Improve the system's resilience to sensor noise, occlusions, and dynamic environments."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Methods"}),":","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Incorporate sensor fusion techniques that can handle missing or unreliable data."}),"\n",(0,i.jsx)(e.li,{children:"Use machine learning models to predict object trajectories and enhance association accuracy."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Comprehensive Testing and Validation"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Objective"}),": Validate the association mechanisms across diverse scenarios to ensure reliability."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Actions"}),":","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Test the system in simulated environments with varying sensor configurations."}),"\n",(0,i.jsx)(e.li,{children:"Conduct field tests to assess performance in real-world conditions."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,i.jsxs)(e.p,{children:["Object association is a foundational component of multi-sensor data fusion, enabling the accurate integration of data from disparate sensor sources into a unified global representation. Within the Kalman filter framework, methods like ",(0,i.jsx)(e.strong,{children:"Intersection over Union (IoU)"})," and ",(0,i.jsx)(e.strong,{children:"Mahalanobis Distance"})," provide robust mechanisms for linking sensor-level detections with global objects. The choice between IoU and Mahalanobis Distance hinges on application-specific factors, including sensor characteristics and computational constraints."]}),"\n",(0,i.jsx)(e.p,{children:"Implementing these association techniques within ROS ensures seamless integration into robotic systems, facilitating reliable perception and decision-making. As autonomous systems become increasingly complex, the ability to accurately associate and fuse sensor data will remain critical for achieving robust and intelligent behaviors."}),"\n",(0,i.jsx)(e.p,{children:"By mastering object association methodologies and their integration within data fusion pipelines, practitioners can enhance the performance and reliability of autonomous systems, paving the way for advancements in robotics and related fields."})]})}function d(s={}){const{wrapper:e}={...(0,t.R)(),...s.components};return e?(0,i.jsx)(e,{...s,children:(0,i.jsx)(h,{...s})}):h(s)}},8453:(s,e,n)=>{n.d(e,{R:()=>l,x:()=>r});var a=n(6540);const i={},t=a.createContext(i);function l(s){const e=a.useContext(t);return a.useMemo((function(){return"function"==typeof s?s(e):{...e,...s}}),[e,s])}function r(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(i):s.components||i:l(s.components),a.createElement(t.Provider,{value:e},s.children)}}}]);