"use strict";(self.webpackChunkacd=self.webpackChunkacd||[]).push([[9256],{1015:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>t});const o=JSON.parse('{"id":"ros2/docker","title":"Using Docker for ROS2 Development","description":"Docker simplifies the setup and management of development environments by providing isolated, portable, and consistent containers. Using Docker for ROS2 development ensures that your environment is easy to replicate and maintain, especially when collaborating across different systems.","source":"@site/docs/ros2/03_docker.md","sourceDirName":"ros2","slug":"/ros2/docker","permalink":"/Autonomous-Connected-Driving/docs/ros2/docker","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/ros2/03_docker.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"ros2Sidebar","previous":{"title":"ROS 2 Installation Guide","permalink":"/Autonomous-Connected-Driving/docs/ros2/installation"},"next":{"title":"Building a ROS2 Workspace Using colcon","permalink":"/Autonomous-Connected-Driving/docs/ros2/build"}}');var r=s(4848),i=s(8453);const l={},c="Using Docker for ROS2 Development",a={},t=[{value:"Overview of Docker for ROS2",id:"overview-of-docker-for-ros2",level:2},{value:"Setting Up Docker for ROS2 Development",id:"setting-up-docker-for-ros2-development",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Pulling a ROS2 Image",id:"pulling-a-ros2-image",level:3},{value:"Basic Docker Commands for ROS2",id:"basic-docker-commands-for-ros2",level:2},{value:"Running a ROS2 Container",id:"running-a-ros2-container",level:3},{value:"Mounting Local Directories",id:"mounting-local-directories",level:3},{value:"Networking with ROS2",id:"networking-with-ros2",level:3},{value:"Using Docker Compose for ROS2 Projects",id:"using-docker-compose-for-ros2-projects",level:2},{value:"docker-compose.yml",id:"docker-composeyml",level:3},{value:"Running the Setup",id:"running-the-setup",level:3},{value:"Building Custom ROS2 Docker Images",id:"building-custom-ros2-docker-images",level:2},{value:"Dockerfile Example",id:"dockerfile-example",level:3},{value:"Building and Running the Image",id:"building-and-running-the-image",level:3},{value:"Advanced Usage: Persistent Volumes and GUI Support",id:"advanced-usage-persistent-volumes-and-gui-support",level:2},{value:"Persistent Volumes",id:"persistent-volumes",level:3},{value:"Running GUI Applications",id:"running-gui-applications",level:3},{value:"Best Practices",id:"best-practices",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"using-docker-for-ros2-development",children:"Using Docker for ROS2 Development"})}),"\n",(0,r.jsx)(n.p,{children:"Docker simplifies the setup and management of development environments by providing isolated, portable, and consistent containers. Using Docker for ROS2 development ensures that your environment is easy to replicate and maintain, especially when collaborating across different systems."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"overview-of-docker-for-ros2",children:"Overview of Docker for ROS2"}),"\n",(0,r.jsx)(n.p,{children:"Docker allows you to:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Isolate Development Environments: Avoid conflicts with local installations by running ROS2 in a container."}),"\n",(0,r.jsx)(n.li,{children:"Share and Reproduce: Easily share configurations and ensure consistency across team members."}),"\n",(0,r.jsx)(n.li,{children:"Simplify Setup: Quickly get started with pre-built ROS2 images from Docker Hub or custom images tailored to your needs."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"setting-up-docker-for-ros2-development",children:"Setting Up Docker for ROS2 Development"}),"\n",(0,r.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.p,{children:"Ensure you have the following installed:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Docker: Follow the ",(0,r.jsx)(n.a,{href:"https://docs.docker.com/get-docker/",children:"official installation guide"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Docker Compose (Optional): For managing multi-container applications."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Verify Docker installation:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ docker --version\nDocker version 20.10.x, build xxxxxxx\n"})}),"\n",(0,r.jsx)(n.p,{children:"Verify Docker Compose installation:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ docker-compose --version\nDocker Compose version 2.x.x\n"})}),"\n",(0,r.jsx)(n.h3,{id:"pulling-a-ros2-image",children:"Pulling a ROS2 Image"}),"\n",(0,r.jsx)(n.p,{children:"Official ROS2 Docker images are available on Docker Hub:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ docker pull osrf/ros:<ros2-distro>\n"})}),"\n",(0,r.jsx)(n.p,{children:"Example for ROS2 Humble:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ docker pull osrf/ros:humble-desktop\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"basic-docker-commands-for-ros2",children:"Basic Docker Commands for ROS2"}),"\n",(0,r.jsx)(n.h3,{id:"running-a-ros2-container",children:"Running a ROS2 Container"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ docker run -it --rm osrf/ros:humble-desktop\n"})}),"\n",(0,r.jsx)(n.p,{children:"This starts an interactive terminal session inside the ROS2 container."}),"\n",(0,r.jsx)(n.h3,{id:"mounting-local-directories",children:"Mounting Local Directories"}),"\n",(0,r.jsx)(n.p,{children:"To access local files in your container:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ docker run -it --rm -v $(pwd):/workspace osrf/ros:humble-desktop\n"})}),"\n",(0,r.jsxs)(n.p,{children:["This mounts the current directory to ",(0,r.jsx)(n.code,{children:"/workspace"})," inside the container."]}),"\n",(0,r.jsx)(n.h3,{id:"networking-with-ros2",children:"Networking with ROS2"}),"\n",(0,r.jsxs)(n.p,{children:["To allow ROS2 nodes to communicate across containers or with the host machine, use the ",(0,r.jsx)(n.code,{children:"--net=host"})," option:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ docker run -it --rm --net=host osrf/ros:humble-desktop\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Note: The ",(0,r.jsx)(n.code,{children:"--net=host"})," option works only on Linux. On Windows and macOS, consider setting up bridge networking or Docker Compose."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"using-docker-compose-for-ros2-projects",children:"Using Docker Compose for ROS2 Projects"}),"\n",(0,r.jsx)(n.p,{children:"Docker Compose simplifies multi-container applications. Here's an example configuration for a ROS2 setup:"}),"\n",(0,r.jsx)(n.h3,{id:"docker-composeyml",children:"docker-compose.yml"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"version: '3.8'\nservices:\n  ros2:\n    image: osrf/ros:humble-desktop\n    container_name: ros2_container\n    volumes:\n      - ./workspace:/workspace\n    networks:\n      - ros2_network\n    command: /bin/bash\n\nnetworks:\n  ros2_network:\n    driver: bridge\n"})}),"\n",(0,r.jsx)(n.h3,{id:"running-the-setup",children:"Running the Setup"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Start the container:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ docker-compose up -d\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Access the container:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ docker exec -it ros2_container /bin/bash\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"building-custom-ros2-docker-images",children:"Building Custom ROS2 Docker Images"}),"\n",(0,r.jsx)(n.p,{children:"If you need a tailored ROS2 environment, create a custom Dockerfile."}),"\n",(0,r.jsx)(n.h3,{id:"dockerfile-example",children:"Dockerfile Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dockerfile",children:"FROM osrf/ros:humble-desktop\n\n# Install additional dependencies\nRUN apt-get update && apt-get install -y \\\n    python3-pip \\\n    ros-humble-rmw-cyclonedds-cpp\n\n# Set up workspace\nWORKDIR /workspace\n"})}),"\n",(0,r.jsx)(n.h3,{id:"building-and-running-the-image",children:"Building and Running the Image"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Build the image:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ docker build -t custom_ros2:humble .\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Run the container:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ docker run -it --rm custom_ros2:humble\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"advanced-usage-persistent-volumes-and-gui-support",children:"Advanced Usage: Persistent Volumes and GUI Support"}),"\n",(0,r.jsx)(n.h3,{id:"persistent-volumes",children:"Persistent Volumes"}),"\n",(0,r.jsx)(n.p,{children:"To retain data between container runs, use Docker volumes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ docker run -it --rm -v ros2_data:/workspace osrf/ros:humble-desktop\n"})}),"\n",(0,r.jsx)(n.h3,{id:"running-gui-applications",children:"Running GUI Applications"}),"\n",(0,r.jsx)(n.p,{children:"To enable GUI applications inside a ROS2 container (e.g., RViz):"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Allow X11 forwarding:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ xhost +local:\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Run the container with display access:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ docker run -it --rm \\\n   -e DISPLAY=$DISPLAY \\\n   -v /tmp/.X11-unix:/tmp/.X11-unix \\\n   osrf/ros:humble-desktop\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Version Pinning: Always use specific versions of ROS2 images to avoid unexpected changes."}),"\n",(0,r.jsx)(n.li,{children:"Leverage Docker Compose: Simplify workflows for complex setups."}),"\n",(0,r.jsx)(n.li,{children:"Optimize Images: Use minimal base images and remove unnecessary packages."}),"\n",(0,r.jsxs)(n.li,{children:["Document Your Setup: Share ",(0,r.jsx)(n.code,{children:"Dockerfile"})," and ",(0,r.jsx)(n.code,{children:"docker-compose.yml"})," with your team for reproducibility."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:"Using Docker for ROS2 development streamlines the process of environment setup and sharing. By leveraging Docker's features, you can focus more on developing ROS2 applications and less on troubleshooting dependencies."})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>c});var o=s(6540);const r={},i=o.createContext(r);function l(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);