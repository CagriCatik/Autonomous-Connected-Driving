"use strict";(self.webpackChunkacd=self.webpackChunkacd||[]).push([[2993],{5659:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>t,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"theory/introduction-tools/tools/setup_ros","title":"Setup ROS Coding Environment","description":"Introduction","source":"@site/docs/theory/introduction-tools/02_tools/03_setup_ros.md","sourceDirName":"theory/introduction-tools/02_tools","slug":"/theory/introduction-tools/tools/setup_ros","permalink":"/Autonomous-Connected-Driving/docs/theory/introduction-tools/tools/setup_ros","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/theory/introduction-tools/02_tools/03_setup_ros.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"introToolsSidebar","previous":{"title":"Setup for Operating System","permalink":"/Autonomous-Connected-Driving/docs/theory/introduction-tools/tools/setup_os"},"next":{"title":"Setup Jupyterlab","permalink":"/Autonomous-Connected-Driving/docs/theory/introduction-tools/tools/setup_jupyterlab"}}');var s=o(4848),i=o(8453);const t={},c="Setup ROS Coding Environment",l={},a=[{value:"Introduction",id:"introduction",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"setup-ros-coding-environment",children:"Setup ROS Coding Environment"})}),"\n",(0,s.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(n.p,{children:"This guide provides a detailed walkthrough for setting up the ROS coding environment required for the ACDC course. It includes instructions for installing and configuring essential tools like Docker, Visual Studio Code (VS Code), and related scripts, ensuring a seamless development experience with ROS and ROS 2."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["To begin, it is recommended to use ",(0,s.jsx)(n.strong,{children:"Visual Studio Code (VS Code)"})," as the Integrated Development Environment (IDE) for editing and managing ROS code. Install VS Code by following the official ",(0,s.jsx)(n.a,{href:"https://code.visualstudio.com/docs/setup/linux",children:"installation guide for Ubuntu"}),". Alternatively, you can use any IDE you are familiar with."]}),"\n",(0,s.jsxs)(n.p,{children:["To set up the ACDC repository, open a terminal in Ubuntu and navigate to your preferred directory (e.g., ",(0,s.jsx)(n.code,{children:"~/Documents"}),"). Clone the repository using the following command:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"git clone --recurse-submodules https://github.com/ika-rwth-aachen/acdc.git\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Ensure the ",(0,s.jsx)(n.code,{children:"--recurse-submodules"})," flag is included to download all required submodules. Once cloned, your local directory structure should resemble:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"acdc/\n\u251c\u2500\u2500 assets/\n\u251c\u2500\u2500 bag/\n\u251c\u2500\u2500 catkin_workspace/\n\u251c\u2500\u2500 colcon_workspace/\n\u251c\u2500\u2500 docker/\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 LICENSE\n\u2514\u2500\u2500 README.md\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Installing Docker"})," is essential for running pre-configured containers tailored to the ACDC course. Follow the official installation guide:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.docker.com/engine/install/ubuntu/",children:"Ubuntu"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.docker.com/desktop/install/mac-install/",children:"MacOS"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"After installation, test Docker by running:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo docker run hello-world\n"})}),"\n",(0,s.jsx)(n.p,{children:"For rootless execution, add your user to the Docker group:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo groupadd docker\nsudo usermod -aG docker $USER\nnewgrp docker\ndocker run hello-world\n"})}),"\n",(0,s.jsxs)(n.p,{children:["To simplify Docker container management, install the ",(0,s.jsx)(n.code,{children:"docker-run-cli"})," tool:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pip install docker-run-cli --break-system-packages\n"})}),"\n",(0,s.jsxs)(n.p,{children:["If ",(0,s.jsx)(n.code,{children:"docker-run"})," is not recognized, ensure it is added to your PATH:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'echo "export PATH=\\$HOME/.local/bin:\\$PATH" >> ~/.bashrc\nsource ~/.bashrc\n'})}),"\n",(0,s.jsx)(n.p,{children:"Download the necessary Docker image from DockerHub:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker pull rwthika/acdc:ros1\n"})}),"\n",(0,s.jsx)(n.p,{children:"Alternatively, use the provided Makefile commands:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Pull the image: ",(0,s.jsx)(n.code,{children:"make pull"})]}),"\n",(0,s.jsxs)(n.li,{children:["Clean local images: ",(0,s.jsx)(n.code,{children:"make clean"})]}),"\n",(0,s.jsxs)(n.li,{children:["Build locally: ",(0,s.jsx)(n.code,{children:"make build"})," (time-intensive)."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Start the Docker container by navigating to the ",(0,s.jsx)(n.code,{children:"docker"})," directory and executing:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./ros1_run.sh\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Run the script again to open an additional shell inside the running container. Changes made in the shared ",(0,s.jsx)(n.code,{children:"catkin_workspace"})," and ",(0,s.jsx)(n.code,{children:"bag"})," directories will reflect both in the host and container."]}),"\n",(0,s.jsx)(n.p,{children:"To test GUI functionality, execute:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"rqt\n"})}),"\n",(0,s.jsx)(n.p,{children:"An empty GUI window should appear if everything is correctly set up."}),"\n",(0,s.jsx)(n.p,{children:"RVIZ is a crucial visualization tool for ROS. To test it, open three terminals:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Start the container in Terminal 1:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./ros1_run.sh\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Launch the ROS Master in Terminal 2:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"roscore\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Start RVIZ in Terminal 3:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"rviz\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["If RVIZ does not display content or crashes with ",(0,s.jsx)(n.code,{children:"libGL"})," errors, disable hardware acceleration temporarily:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"export LIBGL_ALWAYS_SOFTWARE=1\nrosrun rviz rviz\n"})}),"\n",(0,s.jsxs)(n.p,{children:["For a permanent fix, modify the ",(0,s.jsx)(n.code,{children:"ros1_run.sh"})," script to include:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'docker-run --env LIBGL_ALWAYS_SOFTWARE=1 --no-gpu --volume $(dirname "$DIR"):/home/rosuser/ws --image rwthika/acdc:ros1 --workdir="/home/rosuser/ws/catkin_workspace" --name acdc_ros1\n'})}),"\n",(0,s.jsx)(n.p,{children:"By following this guide, your ROS coding environment will be ready to handle the tasks and projects in the ACDC course effectively."})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>t,x:()=>c});var r=o(6540);const s={},i=r.createContext(s);function t(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);