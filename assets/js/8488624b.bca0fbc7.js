"use strict";(self.webpackChunkacd=self.webpackChunkacd||[]).push([[585],{9007:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"task/object_fusion_tracking/Object-Association","title":"Object Association","description":"ROS1","source":"@site/docs/task/03_object_fusion_tracking/02_Object-Association.md","sourceDirName":"task/03_object_fusion_tracking","slug":"/task/object_fusion_tracking/Object-Association","permalink":"/Autonomous-Connected-Driving/docs/task/object_fusion_tracking/Object-Association","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/task/03_object_fusion_tracking/02_Object-Association.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"taskSidebar","previous":{"title":"Object Prediction","permalink":"/Autonomous-Connected-Driving/docs/task/object_fusion_tracking/Object-Prediction"},"next":{"title":"Object Fusion","permalink":"/Autonomous-Connected-Driving/docs/task/object_fusion_tracking/Object-Fusion"}}');var a=s(4848),t=s(8453);const c={},o="Object Association",r={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Overview of Object Association",id:"overview-of-object-association",level:2},{value:"Distance Measures for Object Association",id:"distance-measures-for-object-association",level:2},{value:"Intersection over Union (IoU)",id:"intersection-over-union-iou",level:3},{value:"Mahalanobis Distance",id:"mahalanobis-distance",level:3},{value:"Implementation Guide",id:"implementation-guide",level:2},{value:"1. Setting Up the Environment",id:"1-setting-up-the-environment",level:3},{value:"2. Implementing Intersection over Union (IoU)",id:"2-implementing-intersection-over-union-iou",level:3},{value:"Step-by-Step Implementation:",id:"step-by-step-implementation",level:4},{value:"Code Snippet:",id:"code-snippet",level:4},{value:"3. Implementing Mahalanobis Distance",id:"3-implementing-mahalanobis-distance",level:3},{value:"Step-by-Step Implementation:",id:"step-by-step-implementation-1",level:4},{value:"Code Snippet:",id:"code-snippet-1",level:4},{value:"4. Configuring the Distance Measure",id:"4-configuring-the-distance-measure",level:3},{value:"Step-by-Step Configuration:",id:"step-by-step-configuration",level:4},{value:"Building the Workspace",id:"building-the-workspace",level:2},{value:"Steps to Build:",id:"steps-to-build",level:4},{value:"Verification and Testing",id:"verification-and-testing",level:2},{value:"Steps for Verification:",id:"steps-for-verification",level:4},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"1. Compilation Errors",id:"1-compilation-errors",level:3},{value:"2. Runtime Errors",id:"2-runtime-errors",level:3},{value:"3. Incorrect Associations",id:"3-incorrect-associations",level:3},{value:"Next Steps: Object Fusion",id:"next-steps-object-fusion",level:2},{value:"Conclusion",id:"conclusion",level:2},{value:"Code References",id:"code-references",level:2}];function d(e){const n={a:"a",annotation:"annotation",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msqrt:"msqrt",msub:"msub",msup:"msup",mtext:"mtext",ol:"ol",p:"p",path:"path",pre:"pre",semantics:"semantics",span:"span",strong:"strong",svg:"svg",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"object-association",children:"Object Association"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://img.shields.io/badge/ROS1-blue",alt:"ROS1"})}),"\n",(0,a.jsx)(n.p,{children:"Object association is a critical component in robotics applications, enabling the system to track and manage multiple objects across sensor data streams. In the context of the Robot Operating System (ROS1), object association facilitates the fusion of data from various sensors to maintain coherent and accurate representations of objects in the environment."}),"\n",(0,a.jsx)(n.p,{children:"This documentation provides a comprehensive guide to implementing object association using two primary distance measures: Intersection over Union (IoU) and Mahalanobis Distance. It is tailored to assist both beginners and advanced users in understanding and executing the implementation within a ROS1 workspace."}),"\n",(0,a.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsx)(n.p,{children:"Before proceeding, ensure you have the following:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"ROS1"})," installed and properly configured."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Catkin Workspace"})," set up."]}),"\n",(0,a.jsxs)(n.li,{children:["Basic knowledge of ",(0,a.jsx)(n.strong,{children:"C++"})," programming."]}),"\n",(0,a.jsxs)(n.li,{children:["Familiarity with ",(0,a.jsx)(n.strong,{children:"Git"})," and version control."]}),"\n",(0,a.jsxs)(n.li,{children:["Access to the ",(0,a.jsx)(n.a,{href:"https://github.com/ika-rwth-aachen/acdc",children:"ACDC GitHub Repository"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"overview-of-object-association",children:"Overview of Object Association"}),"\n",(0,a.jsx)(n.p,{children:"Object association involves matching detected objects across different frames or sensor inputs to maintain consistent tracking. It plays a vital role in applications like autonomous driving, where understanding the movement and behavior of surrounding objects is essential."}),"\n",(0,a.jsxs)(n.p,{children:["In this guide, we focus on enhancing the ",(0,a.jsx)(n.code,{children:"object_fusion"})," module within a ROS1 workspace. Specifically, we'll implement two distance measures that quantify the similarity between objects: IoU and Mahalanobis Distance. These measures aid in accurately associating objects detected by different sensors or at different times."]}),"\n",(0,a.jsx)(n.h2,{id:"distance-measures-for-object-association",children:"Distance Measures for Object Association"}),"\n",(0,a.jsx)(n.h3,{id:"intersection-over-union-iou",children:"Intersection over Union (IoU)"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Intersection over Union (IoU)"})," is a metric used to evaluate the overlap between two bounding boxes. It is defined as the area of overlap divided by the area of union of the two bounding boxes."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Formula:"})}),"\n",(0,a.jsx)(n.span,{className:"katex-display",children:(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mi,{children:"I"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"U"}),(0,a.jsx)(n.mo,{children:"="}),(0,a.jsxs)(n.mfrac,{children:[(0,a.jsx)(n.mtext,{children:"Area\xa0of\xa0Overlap"}),(0,a.jsx)(n.mtext,{children:"Area\xa0of\xa0Union"})]})]}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"IoU = \\frac{\\text{Area of Overlap}}{\\text{Area of Union}}"})]})})}),(0,a.jsxs)(n.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.6833em"}}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"},children:"I"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"o"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"U"}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(n.span,{className:"mrel",children:"="}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"2.0574em",verticalAlign:"-0.686em"}}),(0,a.jsxs)(n.span,{className:"mord",children:[(0,a.jsx)(n.span,{className:"mopen nulldelimiter"}),(0,a.jsx)(n.span,{className:"mfrac",children:(0,a.jsxs)(n.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(n.span,{className:"vlist-r",children:[(0,a.jsxs)(n.span,{className:"vlist",style:{height:"1.3714em"},children:[(0,a.jsxs)(n.span,{style:{top:"-2.314em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(n.span,{className:"mord",children:(0,a.jsx)(n.span,{className:"mord text",children:(0,a.jsx)(n.span,{className:"mord",children:"Area\xa0of\xa0Union"})})})]}),(0,a.jsxs)(n.span,{style:{top:"-3.23em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(n.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,a.jsxs)(n.span,{style:{top:"-3.677em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(n.span,{className:"mord",children:(0,a.jsx)(n.span,{className:"mord text",children:(0,a.jsx)(n.span,{className:"mord",children:"Area\xa0of\xa0Overlap"})})})]})]}),(0,a.jsx)(n.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(n.span,{className:"vlist-r",children:(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.686em"},children:(0,a.jsx)(n.span,{})})})]})}),(0,a.jsx)(n.span,{className:"mclose nulldelimiter"})]})]})]})]})}),"\n",(0,a.jsx)(n.p,{children:"IoU is widely used in object detection tasks to measure the accuracy of predicted bounding boxes against ground truth."}),"\n",(0,a.jsx)(n.h3,{id:"mahalanobis-distance",children:"Mahalanobis Distance"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Mahalanobis Distance"})," measures the distance between a point and a distribution. Unlike Euclidean distance, it accounts for the correlations of the data set, making it effective in high-dimensional spaces."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Formula:"})}),"\n",(0,a.jsx)(n.span,{className:"katex-display",children:(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsxs)(n.mrow,{children:[(0,a.jsxs)(n.msub,{children:[(0,a.jsx)(n.mi,{children:"d"}),(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mi,{children:"G"}),(0,a.jsx)(n.mo,{separator:"true",children:","}),(0,a.jsx)(n.mi,{children:"S"})]})]}),(0,a.jsx)(n.mo,{children:"="}),(0,a.jsx)(n.msqrt,{children:(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mo,{stretchy:"false",children:"("}),(0,a.jsx)(n.mi,{children:"x"}),(0,a.jsx)(n.mo,{children:"\u2212"}),(0,a.jsx)(n.mi,{children:"\u03bc"}),(0,a.jsxs)(n.msup,{children:[(0,a.jsx)(n.mo,{stretchy:"false",children:")"}),(0,a.jsx)(n.mi,{children:"T"})]}),(0,a.jsxs)(n.msup,{children:[(0,a.jsx)(n.mi,{mathvariant:"normal",children:"\u03a3"}),(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mo,{children:"\u2212"}),(0,a.jsx)(n.mn,{children:"1"})]})]}),(0,a.jsx)(n.mo,{stretchy:"false",children:"("}),(0,a.jsx)(n.mi,{children:"x"}),(0,a.jsx)(n.mo,{children:"\u2212"}),(0,a.jsx)(n.mi,{children:"\u03bc"}),(0,a.jsx)(n.mo,{stretchy:"false",children:")"})]})})]}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"d_{G,S} = \\sqrt{(x - \\mu)^T \\Sigma^{-1} (x - \\mu)}"})]})})}),(0,a.jsxs)(n.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.9805em",verticalAlign:"-0.2861em"}}),(0,a.jsxs)(n.span,{className:"mord",children:[(0,a.jsx)(n.span,{className:"mord mathnormal",children:"d"}),(0,a.jsx)(n.span,{className:"msupsub",children:(0,a.jsxs)(n.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(n.span,{className:"vlist-r",children:[(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.3283em"},children:(0,a.jsxs)(n.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(n.span,{className:"mord mtight",children:[(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"G"}),(0,a.jsx)(n.span,{className:"mpunct mtight",children:","}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05764em"},children:"S"})]})})]})}),(0,a.jsx)(n.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(n.span,{className:"vlist-r",children:(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.2861em"},children:(0,a.jsx)(n.span,{})})})]})})]}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(n.span,{className:"mrel",children:"="}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"1.84em",verticalAlign:"-0.5475em"}}),(0,a.jsx)(n.span,{className:"mord sqrt",children:(0,a.jsxs)(n.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(n.span,{className:"vlist-r",children:[(0,a.jsxs)(n.span,{className:"vlist",style:{height:"1.2925em"},children:[(0,a.jsxs)(n.span,{className:"svg-align",style:{top:"-3.8em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"3.8em"}}),(0,a.jsxs)(n.span,{className:"mord",style:{paddingLeft:"1em"},children:[(0,a.jsx)(n.span,{className:"mopen",children:"("}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"x"}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(n.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"\u03bc"}),(0,a.jsxs)(n.span,{className:"mclose",children:[(0,a.jsx)(n.span,{className:"mclose",children:")"}),(0,a.jsx)(n.span,{className:"msupsub",children:(0,a.jsx)(n.span,{className:"vlist-t",children:(0,a.jsx)(n.span,{className:"vlist-r",children:(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.7673em"},children:(0,a.jsxs)(n.span,{style:{top:"-2.989em",marginRight:"0.05em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(n.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"},children:"T"})})]})})})})})]}),(0,a.jsxs)(n.span,{className:"mord",children:[(0,a.jsx)(n.span,{className:"mord",children:"\u03a3"}),(0,a.jsx)(n.span,{className:"msupsub",children:(0,a.jsx)(n.span,{className:"vlist-t",children:(0,a.jsx)(n.span,{className:"vlist-r",children:(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.7401em"},children:(0,a.jsxs)(n.span,{style:{top:"-2.989em",marginRight:"0.05em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(n.span,{className:"mord mtight",children:[(0,a.jsx)(n.span,{className:"mord mtight",children:"\u2212"}),(0,a.jsx)(n.span,{className:"mord mtight",children:"1"})]})})]})})})})})]}),(0,a.jsx)(n.span,{className:"mopen",children:"("}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"x"}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(n.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"\u03bc"}),(0,a.jsx)(n.span,{className:"mclose",children:")"})]})]}),(0,a.jsxs)(n.span,{style:{top:"-3.2525em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"3.8em"}}),(0,a.jsx)(n.span,{className:"hide-tail",style:{minWidth:"1.02em",height:"1.88em"},children:(0,a.jsx)(n.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.88em",viewBox:"0 0 400000 1944",preserveAspectRatio:"xMinYMin slice",children:(0,a.jsx)(n.path,{d:"M983 90\nl0 -0\nc4,-6.7,10,-10,18,-10 H400000v40\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM1001 80h400000v40h-400000z"})})})]})]}),(0,a.jsx)(n.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(n.span,{className:"vlist-r",children:(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.5475em"},children:(0,a.jsx)(n.span,{})})})]})})]})]})]})}),"\n",(0,a.jsx)(n.p,{children:"Where:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsx)(n.mrow,{children:(0,a.jsx)(n.mi,{children:"x"})}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"x"})]})})}),(0,a.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.4306em"}}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"x"})]})})]})," is the point."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsx)(n.mrow,{children:(0,a.jsx)(n.mi,{children:"\u03bc"})}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\mu"})]})})}),(0,a.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"\u03bc"})]})})]})," is the mean of the distribution."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsx)(n.mrow,{children:(0,a.jsx)(n.mi,{mathvariant:"normal",children:"\u03a3"})}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:" \\Sigma"})]})})}),(0,a.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.6833em"}}),(0,a.jsx)(n.span,{className:"mord",children:"\u03a3"})]})})]})," is the covariance matrix."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"In object association, Mahalanobis distance is used to assess the similarity between object positions, considering their positional uncertainties."}),"\n",(0,a.jsx)(n.h2,{id:"implementation-guide",children:"Implementation Guide"}),"\n",(0,a.jsx)(n.h3,{id:"1-setting-up-the-environment",children:"1. Setting Up the Environment"}),"\n",(0,a.jsx)(n.p,{children:"Ensure your catkin workspace is properly set up and sourced. Navigate to your workspace directory:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd ~/catkin_workspace/\n"})}),"\n",(0,a.jsx)(n.p,{children:"If you haven't initialized the workspace yet:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"catkin init\ncatkin config --extend /opt/ros/noetic\ncatkin build\nsource devel/setup.bash\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-implementing-intersection-over-union-iou",children:"2. Implementing Intersection over Union (IoU)"}),"\n",(0,a.jsxs)(n.p,{children:["The IoU implementation is located in the ",(0,a.jsx)(n.code,{children:"IntersectionOverUnion.cpp"})," file within the ",(0,a.jsx)(n.code,{children:"distance_measures"})," module."]}),"\n",(0,a.jsx)(n.h4,{id:"step-by-step-implementation",children:"Step-by-Step Implementation:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Navigate to the Distance Measures Directory:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd ~/catkin_workspace/src/workshops/section_3/object_fusion/src/modules/matcher/distance_measures/\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsxs)(n.strong,{children:["Open ",(0,a.jsx)(n.code,{children:"IntersectionOverUnion.cpp"})," for Editing:"]})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"nano IntersectionOverUnion.cpp\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Fill in the IoU Calculation:"})}),"\n",(0,a.jsx)(n.p,{children:"Locate the function responsible for calculating IoU (typically around line 40 based on the provided link) and implement the following logic:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cpp",children:"double IntersectionOverUnion::compute(const Object& obj1, const Object& obj2) {\n    // Calculate the (x, y)-coordinates of the intersection rectangle\n    double x_left = std::max(obj1.bounding_box.x_min, obj2.bounding_box.x_min);\n    double y_top = std::max(obj1.bounding_box.y_min, obj2.bounding_box.y_min);\n    double x_right = std::min(obj1.bounding_box.x_max, obj2.bounding_box.x_max);\n    double y_bottom = std::min(obj1.bounding_box.y_max, obj2.bounding_box.y_max);\n\n    // Compute the area of intersection rectangle\n    double intersection_area = std::max(0.0, x_right - x_left) * std::max(0.0, y_bottom - y_top);\n\n    // Compute the area of both bounding boxes\n    double obj1_area = (obj1.bounding_box.x_max - obj1.bounding_box.x_min) * \n                        (obj1.bounding_box.y_max - obj1.bounding_box.y_min);\n    double obj2_area = (obj2.bounding_box.x_max - obj2.bounding_box.x_min) * \n                        (obj2.bounding_box.y_max - obj2.bounding_box.y_min);\n\n    // Compute the IoU\n    double iou = intersection_area / (obj1_area + obj2_area - intersection_area);\n\n    return iou;\n}\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Save and Exit:"})}),"\n",(0,a.jsxs)(n.p,{children:["Press ",(0,a.jsx)(n.code,{children:"Ctrl + X"}),", then ",(0,a.jsx)(n.code,{children:"Y"}),", and ",(0,a.jsx)(n.code,{children:"Enter"})," to save the changes."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"code-snippet",children:"Code Snippet:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cpp",children:"double IntersectionOverUnion::compute(const Object& obj1, const Object& obj2) {\n    double x_left = std::max(obj1.bounding_box.x_min, obj2.bounding_box.x_min);\n    double y_top = std::max(obj1.bounding_box.y_min, obj2.bounding_box.y_min);\n    double x_right = std::min(obj1.bounding_box.x_max, obj2.bounding_box.x_max);\n    double y_bottom = std::min(obj1.bounding_box.y_max, obj2.bounding_box.y_max);\n\n    double intersection_area = std::max(0.0, x_right - x_left) * std::max(0.0, y_bottom - y_top);\n    double obj1_area = (obj1.bounding_box.x_max - obj1.bounding_box.x_min) * \n                        (obj1.bounding_box.y_max - obj1.bounding_box.y_min);\n    double obj2_area = (obj2.bounding_box.x_max - obj2.bounding_box.x_min) * \n                        (obj2.bounding_box.y_max - obj2.bounding_box.y_min);\n\n    double iou = intersection_area / (obj1_area + obj2_area - intersection_area);\n    return iou;\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"3-implementing-mahalanobis-distance",children:"3. Implementing Mahalanobis Distance"}),"\n",(0,a.jsxs)(n.p,{children:["The Mahalanobis distance implementation is located in the ",(0,a.jsx)(n.code,{children:"Mahalanobis.cpp"})," file within the ",(0,a.jsx)(n.code,{children:"distance_measures"})," module."]}),"\n",(0,a.jsx)(n.h4,{id:"step-by-step-implementation-1",children:"Step-by-Step Implementation:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsxs)(n.strong,{children:["Open ",(0,a.jsx)(n.code,{children:"Mahalanobis.cpp"})," for Editing:"]})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"nano Mahalanobis.cpp\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Implement the Mahalanobis Distance Calculation:"})}),"\n",(0,a.jsx)(n.p,{children:"Locate the function responsible for calculating Mahalanobis distance (typically around line 69 based on the provided link) and implement the following logic:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cpp",children:"double Mahalanobis::compute(const Object& obj1, const Object& obj2) {\n    // Extract positions\n    Eigen::Vector2d x(obj1.position.x, obj1.position.y);\n    Eigen::Vector2d y(obj2.position.x, obj2.position.y);\n\n    // Calculate the difference vector\n    Eigen::Vector2d diff = x - y;\n\n    // Compute the covariance matrix (assuming independence, diagonal matrix)\n    Eigen::Matrix2d covariance;\n    covariance << obj1.covariance_xx, 0,\n                  0, obj1.covariance_yy;\n\n    // Compute the inverse of the covariance matrix\n    Eigen::Matrix2d covariance_inv = covariance.inverse();\n\n    // Calculate Mahalanobis distance\n    double distance = std::sqrt(diff.transpose() * covariance_inv * diff);\n\n    return distance;\n}\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Save and Exit:"})}),"\n",(0,a.jsxs)(n.p,{children:["Press ",(0,a.jsx)(n.code,{children:"Ctrl + X"}),", then ",(0,a.jsx)(n.code,{children:"Y"}),", and ",(0,a.jsx)(n.code,{children:"Enter"})," to save the changes."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"code-snippet-1",children:"Code Snippet:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cpp",children:"double Mahalanobis::compute(const Object& obj1, const Object& obj2) {\n    Eigen::Vector2d x(obj1.position.x, obj1.position.y);\n    Eigen::Vector2d y(obj2.position.x, obj2.position.y);\n    Eigen::Vector2d diff = x - y;\n\n    Eigen::Matrix2d covariance;\n    covariance << obj1.covariance_xx, 0,\n                  0, obj1.covariance_yy;\n\n    Eigen::Matrix2d covariance_inv = covariance.inverse();\n    double distance = std::sqrt(diff.transpose() * covariance_inv * diff);\n\n    return distance;\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"4-configuring-the-distance-measure",children:"4. Configuring the Distance Measure"}),"\n",(0,a.jsx)(n.p,{children:"To select the desired distance measure for object association, you need to modify the fusion configuration file."}),"\n",(0,a.jsx)(n.h4,{id:"step-by-step-configuration",children:"Step-by-Step Configuration:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Navigate to the Configuration Directory:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd ~/catkin_workspace/src/workshops/section_3/object_fusion_wrapper/param/\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsxs)(n.strong,{children:["Open ",(0,a.jsx)(n.code,{children:"fusion.yaml"})," for Editing:"]})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"nano fusion.yaml\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Modify the Distance Measure Parameter:"})}),"\n",(0,a.jsxs)(n.p,{children:["Locate the parameter that specifies the distance measure (line 4 based on the provided link). Set it to either ",(0,a.jsx)(n.code,{children:"IoU"})," or ",(0,a.jsx)(n.code,{children:"Mahalanobis"})," based on your implementation."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'distance_measure: "IoU"  # Options: "IoU", "Mahalanobis"\n\n# Other association parameters\nassociation_threshold: 0.5\nmax_association_distance: 2.0\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Example for Mahalanobis Distance:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'distance_measure: "Mahalanobis"\n\n# Other association parameters\nassociation_threshold: 2.5\nmax_association_distance: 5.0\n'})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Save and Exit:"})}),"\n",(0,a.jsxs)(n.p,{children:["Press ",(0,a.jsx)(n.code,{children:"Ctrl + X"}),", then ",(0,a.jsx)(n.code,{children:"Y"}),", and ",(0,a.jsx)(n.code,{children:"Enter"})," to save the changes."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"building-the-workspace",children:"Building the Workspace"}),"\n",(0,a.jsx)(n.p,{children:"After implementing the distance measures, it's essential to rebuild the catkin workspace to incorporate the changes."}),"\n",(0,a.jsx)(n.h4,{id:"steps-to-build",children:"Steps to Build:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Navigate to the Catkin Workspace Root:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd ~/catkin_workspace/\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Build the Workspace Using Catkin:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"catkin build\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.em,{children:"Note:"})," Ensure that there are no compilation errors. If errors occur, revisit the implemented code sections for potential syntax or logical mistakes."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Source the Setup File:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"source devel/setup.bash\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"verification-and-testing",children:"Verification and Testing"}),"\n",(0,a.jsx)(n.p,{children:"Once the workspace is successfully built, it's crucial to verify that the distance measures function as intended."}),"\n",(0,a.jsx)(n.h4,{id:"steps-for-verification",children:"Steps for Verification:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Launch the Object Fusion Node:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"roslaunch object_fusion_wrapper object_fusion.launch\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Monitor the Output:"})}),"\n",(0,a.jsx)(n.p,{children:"Observe the console logs to ensure that objects are being associated correctly based on the chosen distance measure. Look for messages indicating successful association or any warnings/errors."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Test with Different Distance Measures:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Switch between ",(0,a.jsx)(n.code,{children:"IoU"})," and ",(0,a.jsx)(n.code,{children:"Mahalanobis"})," in the ",(0,a.jsx)(n.code,{children:"fusion.yaml"})," configuration."]}),"\n",(0,a.jsx)(n.li,{children:"Rebuild the workspace after each change."}),"\n",(0,a.jsx)(n.li,{children:"Verify that the association behavior aligns with the selected distance measure."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Use Visualization Tools:"})}),"\n",(0,a.jsxs)(n.p,{children:["Utilize tools like ",(0,a.jsx)(n.code,{children:"rviz"})," to visualize object associations and ensure that objects are tracked accurately without drifting."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"rosrun rviz rviz\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,a.jsx)(n.p,{children:"During implementation, you may encounter issues. Here are common problems and their solutions:"}),"\n",(0,a.jsx)(n.h3,{id:"1-compilation-errors",children:"1. Compilation Errors"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Issue:"})," Errors during ",(0,a.jsx)(n.code,{children:"catkin build"})," related to the implemented C++ code."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Check for syntax errors in ",(0,a.jsx)(n.code,{children:"IntersectionOverUnion.cpp"})," and ",(0,a.jsx)(n.code,{children:"Mahalanobis.cpp"}),"."]}),"\n",(0,a.jsx)(n.li,{children:"Ensure that all necessary headers are included."}),"\n",(0,a.jsx)(n.li,{children:"Verify that Eigen library is correctly referenced if used."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"2-runtime-errors",children:"2. Runtime Errors"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Issue:"})," Object fusion node crashes or behaves unexpectedly during runtime."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Review console logs for error messages."}),"\n",(0,a.jsx)(n.li,{children:"Ensure that all object attributes (e.g., bounding boxes, positions, covariances) are correctly initialized and populated."}),"\n",(0,a.jsx)(n.li,{children:"Validate that the covariance matrix is invertible when calculating Mahalanobis distance."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"3-incorrect-associations",children:"3. Incorrect Associations"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Issue:"})," Objects are not being associated correctly based on the distance measure."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Verify that the distance measure implementation aligns with the mathematical definitions."}),"\n",(0,a.jsxs)(n.li,{children:["Adjust ",(0,a.jsx)(n.code,{children:"association_threshold"})," and ",(0,a.jsx)(n.code,{children:"max_association_distance"})," parameters in ",(0,a.jsx)(n.code,{children:"fusion.yaml"})," to appropriate values."]}),"\n",(0,a.jsx)(n.li,{children:"Ensure consistency in the units and scales of positional data."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"next-steps-object-fusion",children:"Next Steps: Object Fusion"}),"\n",(0,a.jsxs)(n.p,{children:["While implementing distance measures completes the association step, it's essential to proceed with the ",(0,a.jsx)(n.strong,{children:"Object Fusion"})," step to integrate associated objects into a unified representation. This prevents object drift and maintains accurate tracking over time."]}),"\n",(0,a.jsx)(n.p,{children:"Upcoming tasks include:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Implementing fusion algorithms to merge associated objects."}),"\n",(0,a.jsx)(n.li,{children:"Handling uncertainties and dynamic changes in the environment."}),"\n",(0,a.jsx)(n.li,{children:"Optimizing performance for real-time applications."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Stay tuned for the next documentation segment on completing object fusion!"}),"\n",(0,a.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,a.jsxs)(n.p,{children:["This guide provided a detailed walkthrough for implementing object association in a ROS1 workspace using IoU and Mahalanobis distance measures. By following the steps outlined, you can enhance the object fusion module to accurately associate objects, laying the foundation for robust tracking and perception in your robotic applications. For further assistance, refer to the ",(0,a.jsx)(n.a,{href:"https://github.com/ika-rwth-aachen/acdc",children:"ACDC GitHub Repository"})," or consult the ROS1 documentation."]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h1,{id:"appendix",children:"Appendix"}),"\n",(0,a.jsx)(n.h2,{id:"code-references",children:"Code References"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Intersection over Union (IoU):"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/ika-rwth-aachen/acdc/blob/main/catkin_workspace/src/workshops/section_3/object_fusion/src/modules/matcher/distance_measures/IntersectionOverUnion.cpp#L40",children:"IntersectionOverUnion.cpp"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Mahalanobis Distance:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/ika-rwth-aachen/acdc/blob/main/catkin_workspace/src/workshops/section_3/object_fusion/src/modules/matcher/distance_measures/Mahalanobis.cpp#L69",children:"Mahalanobis.cpp"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Fusion Configuration:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/ika-rwth-aachen/acdc/blob/main/catkin_workspace/src/workshops/section_3/object_fusion_wrapper/param/fusion.yaml#L4",children:"fusion.yaml"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h1,{id:"further-reading",children:"Further Reading"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"http://wiki.ros.org/",children:"ROS1 Documentation"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://towardsdatascience.com/understanding-mean-average-precision-mAP-623efb7f407e",children:"Understanding IoU and Its Applications"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://www.geeksforgeeks.org/mahalanobis-distance-python-example/",children:"Mahalanobis Distance Explained"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>o});var i=s(6540);const a={},t=i.createContext(a);function c(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);